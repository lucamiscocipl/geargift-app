(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var mm={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Yw(){if(Cv)return Ml;Cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Nv;function Qw(){return Nv||(Nv=1,mm.exports=Yw()),mm.exports}var D=Qw(),pm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function $w(){if(Dv)return Re;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function L(P,ie,ce){this.props=P,this.context=ie,this.refs=$,this.updater=ce||O}L.prototype.isReactComponent={},L.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},L.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function H(){}H.prototype=L.prototype;function Q(P,ie,ce){this.props=P,this.context=ie,this.refs=$,this.updater=ce||O}var G=Q.prototype=new H;G.constructor=Q,V(G,L.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function N(P,ie,ce,ae,_e,Ne){return ce=Ne.ref,{$$typeof:r,type:P,key:ie,ref:ce!==void 0?ce:null,props:Ne}}function I(P,ie){return N(P.type,ie,void 0,void 0,void 0,P.props)}function b(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return ie[ce]})}var k=/\/+/g;function j(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ie.toString(36)}function C(){}function Bt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(C,C):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ut(P,ie,ce,ae,_e){var Ne=typeof P;(Ne==="undefined"||Ne==="boolean")&&(P=null);var Se=!1;if(P===null)Se=!0;else switch(Ne){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(P.$$typeof){case r:case e:Se=!0;break;case E:return Se=P._init,ut(Se(P._payload),ie,ce,ae,_e)}}if(Se)return _e=_e(P),Se=ae===""?"."+j(P,0):ae,ne(_e)?(ce="",Se!=null&&(ce=Se.replace(k,"$&/")+"/"),ut(_e,ie,ce,"",function(Wn){return Wn})):_e!=null&&(b(_e)&&(_e=I(_e,ce+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(k,"$&/")+"/")+Se)),ie.push(_e)),1;Se=0;var Pt=ae===""?".":ae+":";if(ne(P))for(var Je=0;Je<P.length;Je++)ae=P[Je],Ne=Pt+j(ae,Je),Se+=ut(ae,ie,ce,Ne,_e);else if(Je=w(P),typeof Je=="function")for(P=Je.call(P),Je=0;!(ae=P.next()).done;)ae=ae.value,Ne=Pt+j(ae,Je++),Se+=ut(ae,ie,ce,Ne,_e);else if(Ne==="object"){if(typeof P.then=="function")return ut(Bt(P),ie,ce,ae,_e);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(P,ie,ce){if(P==null)return P;var ae=[],_e=0;return ut(P,ae,"","",function(Ne){return ie.call(ce,Ne,_e++)}),ae}function ue(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var ge=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function qe(){}return Re.Children={map:W,forEach:function(P,ie,ce){W(P,function(){ie.apply(this,arguments)},ce)},count:function(P){var ie=0;return W(P,function(){ie++}),ie},toArray:function(P){return W(P,function(ie){return ie})||[]},only:function(P){if(!b(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return re.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,ie,ce){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ae=V({},P.props),_e=P.key,Ne=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!he.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(ae[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)ae.children=ce;else if(1<Se){for(var Pt=Array(Se),Je=0;Je<Se;Je++)Pt[Je]=arguments[Je+2];ae.children=Pt}return N(P.type,_e,void 0,void 0,Ne,ae)},Re.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Re.createElement=function(P,ie,ce){var ae,_e={},Ne=null;if(ie!=null)for(ae in ie.key!==void 0&&(Ne=""+ie.key),ie)he.call(ie,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=ie[ae]);var Se=arguments.length-2;if(Se===1)_e.children=ce;else if(1<Se){for(var Pt=Array(Se),Je=0;Je<Se;Je++)Pt[Je]=arguments[Je+2];_e.children=Pt}if(P&&P.defaultProps)for(ae in Se=P.defaultProps,Se)_e[ae]===void 0&&(_e[ae]=Se[ae]);return N(P,Ne,void 0,void 0,null,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:m,render:P}},Re.isValidElement=b,Re.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ue}},Re.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Re.startTransition=function(P){var ie=re.T,ce={};re.T=ce;try{var ae=P(),_e=re.S;_e!==null&&_e(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(qe,ge)}catch(Ne){ge(Ne)}finally{re.T=ie}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(P){return re.H.use(P)},Re.useActionState=function(P,ie,ce){return re.H.useActionState(P,ie,ce)},Re.useCallback=function(P,ie){return re.H.useCallback(P,ie)},Re.useContext=function(P){return re.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ie){return re.H.useDeferredValue(P,ie)},Re.useEffect=function(P,ie,ce){var ae=re.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(P,ie)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(P,ie,ce){return re.H.useImperativeHandle(P,ie,ce)},Re.useInsertionEffect=function(P,ie){return re.H.useInsertionEffect(P,ie)},Re.useLayoutEffect=function(P,ie){return re.H.useLayoutEffect(P,ie)},Re.useMemo=function(P,ie){return re.H.useMemo(P,ie)},Re.useOptimistic=function(P,ie){return re.H.useOptimistic(P,ie)},Re.useReducer=function(P,ie,ce){return re.H.useReducer(P,ie,ce)},Re.useRef=function(P){return re.H.useRef(P)},Re.useState=function(P){return re.H.useState(P)},Re.useSyncExternalStore=function(P,ie,ce){return re.H.useSyncExternalStore(P,ie,ce)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.1.0",Re}var Ov;function lp(){return Ov||(Ov=1,pm.exports=$w()),pm.exports}var B=lp(),gm={exports:{}},xl={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Xw(){return Pv||(Pv=1,function(r){function e(W,ue){var ge=W.length;W.push(ue);e:for(;0<ge;){var qe=ge-1>>>1,P=W[qe];if(0<o(P,ue))W[qe]=ue,W[ge]=P,ge=qe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ue=W[0],ge=W.pop();if(ge!==ue){W[0]=ge;e:for(var qe=0,P=W.length,ie=P>>>1;qe<ie;){var ce=2*(qe+1)-1,ae=W[ce],_e=ce+1,Ne=W[_e];if(0>o(ae,ge))_e<P&&0>o(Ne,ae)?(W[qe]=Ne,W[_e]=ge,qe=_e):(W[qe]=ae,W[ce]=ge,qe=ce);else if(_e<P&&0>o(Ne,ge))W[qe]=Ne,W[_e]=ge,qe=_e;else break e}}return ue}function o(W,ue){var ge=W.sortIndex-ue.sortIndex;return ge!==0?ge:W.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,w=3,O=!1,V=!1,$=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=W)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function re(W){if($=!1,ne(W),!V)if(n(p)!==null)V=!0,he||(he=!0,j());else{var ue=n(g);ue!==null&&ut(re,ue.startTime-W)}}var he=!1,N=-1,I=5,b=-1;function M(){return L?!0:!(r.unstable_now()-b<I)}function k(){if(L=!1,he){var W=r.unstable_now();b=W;var ue=!0;try{e:{V=!1,$&&($=!1,Q(N),N=-1),O=!0;var ge=w;try{t:{for(ne(W),S=n(p);S!==null&&!(S.expirationTime>W&&M());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,w=S.priorityLevel;var P=qe(S.expirationTime<=W);if(W=r.unstable_now(),typeof P=="function"){S.callback=P,ne(W),ue=!0;break t}S===n(p)&&s(p),ne(W)}else s(p);S=n(p)}if(S!==null)ue=!0;else{var ie=n(g);ie!==null&&ut(re,ie.startTime-W),ue=!1}}break e}finally{S=null,w=ge,O=!1}ue=void 0}}finally{ue?j():he=!1}}}var j;if(typeof G=="function")j=function(){G(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Bt=C.port2;C.port1.onmessage=k,j=function(){Bt.postMessage(null)}}else j=function(){H(k,0)};function ut(W,ue){N=H(function(){W(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ge=w;w=ue;try{return W()}finally{w=ge}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=w;w=W;try{return ue()}finally{w=ge}},r.unstable_scheduleCallback=function(W,ue,ge){var qe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?qe+ge:qe):ge=qe,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ge+P,W={id:E++,callback:ue,priorityLevel:W,startTime:ge,expirationTime:P,sortIndex:-1},ge>qe?(W.sortIndex=ge,e(g,W),n(p)===null&&W===n(g)&&($?(Q(N),N=-1):$=!0,ut(re,ge-qe))):(W.sortIndex=P,e(p,W),V||O||(V=!0,he||(he=!0,j()))),W},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(W){var ue=w;return function(){var ge=w;w=ue;try{return W.apply(this,arguments)}finally{w=ge}}}}(_m)),_m}var Mv;function Ww(){return Mv||(Mv=1,ym.exports=Xw()),ym.exports}var vm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function Zw(){if(xv)return Jt;xv=1;var r=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var Vv;function Jw(){if(Vv)return vm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=Zw(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function eI(){if(kv)return xl;kv=1;var r=Ww(),e=lp(),n=Jw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case L:return"Profiler";case $:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case G:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Bt(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return Bt(t(i))}catch{}}return null}var ut=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},qe=[],P=-1;function ie(t){return{current:t}}function ce(t){0>P||(t.current=qe[P],qe[P]=null,P--)}function ae(t,i){P++,qe[P]=t.current,t.current=i}var _e=ie(null),Ne=ie(null),Se=ie(null),Pt=ie(null);function Je(t,i){switch(ae(Se,i),ae(Ne,t),ae(_e,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?nv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=nv(i),t=iv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(_e),ae(_e,t)}function Wn(){ce(_e),ce(Ne),ce(Se)}function dr(t){t.memoizedState!==null&&ae(Pt,t);var i=_e.current,a=iv(i,t.type);i!==a&&(ae(Ne,t),ae(_e,a))}function Ti(t){Ne.current===t&&(ce(_e),ce(Ne)),Pt.current===t&&(ce(Pt),Cl._currentValue=ge)}var es=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,Io=r.unstable_shouldYield,Du=r.unstable_requestPaint,bn=r.unstable_now,mf=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,ra=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,pf=r.unstable_LowPriority,sa=r.unstable_IdlePriority,Ro=r.log,Ou=r.unstable_setDisableYieldValue,ct=null,Fe=null;function gn(t){if(typeof Ro=="function"&&Ou(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ct,t)}catch{}}var Wt=Math.clz32?Math.clz32:rs,Pu=Math.log,gf=Math.LN2;function rs(t){return t>>>=0,t===0?32:31-(Pu(t)/gf|0)|0}var ss=256,as=4194304;function qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function aa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=qn(l):(v&=T,v!==0?h=qn(v):a||(a=T&~t,a!==0&&(h=qn(a))))):(T=l&~d,T!==0?h=qn(T):v!==0?h=qn(v):a||(a=l&~t,a!==0&&(h=qn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function os(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Co(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function Do(){var t=as;return as<<=1,(as&62914560)===0&&(as=4194304),t}function Ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Si(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Wt(a),ee=1<<Z;T[Z]=0,R[Z]=-1;var K=F[Z];if(K!==null)for(F[Z]=null,Z=0;Z<K.length;Z++){var Y=K[Z];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Zn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Zn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pr(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function Mu(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var rt=Math.random().toString(36).slice(2),Rt="__reactFiber$"+rt,vt="__reactProps$"+rt,Rn="__reactContainer$"+rt,Mo="__reactEvents$"+rt,yf="__reactListeners$"+rt,gr="__reactHandles$"+rt,xu="__reactResources$"+rt,ls="__reactMarker$"+rt;function yr(t){delete t[Rt],delete t[vt],delete t[Mo],delete t[yf],delete t[gr]}function wi(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Rn]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=ov(t);t!==null;){if(a=t[Rt])return a;t=ov(t)}return i}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[Rt]||t[Rn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ei(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function an(t){var i=t[xu];return i||(i=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[ls]=!0}var xo=new Set,la={};function Bn(t,i){Ii(t,i),Ii(t+"Capture",i)}function Ii(t,i){for(la[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},us={};function Lu(t){return es.call(us,t)?!0:es.call(ku,t)?!1:Vu.test(t)?us[t]=!0:(ku[t]=!0,!1)}function _r(t,i,a){if(Lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ti(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var cs,Uu;function bi(t){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",Uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+Uu}var ua=!1;function ca(t,i){if(!t||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var K=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){K=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),F=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===F.length)for(l=R.length-1,h=F.length-1;1<=l&&0<=h&&R[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==F[h]){var Z=`
`+R[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function Vo(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return ca(t.type,!1);case 11:return ca(t.type.render,!1);case 1:return ca(t.type,!0);case 31:return bi("Activity");default:return""}}function ha(t){try{var i="";do i+=Vo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _f(t){var i=ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fa(t){t._valueTracker||(t._valueTracker=_f(t))}function Lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vf=/[\n"\\]/g;function Et(t){return t.replace(vf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?vr(t,v,on(i)):a!=null?vr(t,v,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function fs(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function vr(t,i,a){i==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function ds(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ms.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ju(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ju(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ci=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Di=null;function zo(t){var i=Jn(t);if(i&&(t=i.stateNode)){var a=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Lo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(t,!!a.multiple,i,!1)}}}var ni=!1;function zu(t,i,a){if(ni)return t(i,a);ni=!0;try{var l=t(i);return l}finally{if(ni=!1,(Ni!==null||Di!==null)&&(Mc(),Ni&&(i=Ni,t=Di,Di=Ni=null,zo(i),t)))for(i=0;i<t.length;i++)zo(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Dn=!1}var ii=null,Er=null,Oi=null;function qo(){if(Oi)return Oi;var t,i=Er,a=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function ri(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Bo(){return!1}function Mt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Bo,this.isPropagationStopped=Bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Mt(He),ys=E({},He,{view:0,detail:0}),qu=Mt(ys),pa,ga,ai,_s=E({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(pa=t.screenX-ai.screenX,ga=t.screenY-ai.screenY):ga=pa=0,ai=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),On=Mt(_s),Bu=E({},_s,{dataTransfer:0}),Af=Mt(Bu),vs=E({},ys,{relatedTarget:0}),ya=Mt(vs),Ho=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Mt(Ho),Hu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),va=Mt(Hu),Sf=E({},He,{data:0}),Fo=Mt(Sf),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Ts(){return Go}var Ku=E({},ys,{key:function(t){if(t.key){var i=Es[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ea=Mt(Ku),Yu=E({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Mt(Yu),Pi=E({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Qu=Mt(Pi),$u=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Mt($u),Wu=E({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Mt(Wu),ln=E({},He,{newState:0,oldState:0}),Zu=Mt(ln),Ju=[9,13,27,32],oi=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!oi||c&&8<c&&11>=c),A=" ",z=!1;function X(t,i){switch(t){case"keyup":return Ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Ct(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return t=i.data,t===A&&z?null:t;default:return null}}function ke(t,i){if(Ve)return t==="compositionend"||!oi&&X(t,i)?(t=qo(),Oi=Er=ii=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xt[t.type]:i==="textarea"}function Mi(t,i,a,l){Ni?Di?Di.push(l):Di=[l]:Ni=l,i=jc(i,"onChange"),0<i.length&&(a=new ma("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,li=null;function Yo(t){W_(t,0)}function ec(t){var i=ei(t);if(Lo(i))return t}function _g(t,i){if(t==="change")return i}var vg=!1;if(Hn){var wf;if(Hn){var If="oninput"in document;if(!If){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),If=typeof Eg.oninput=="function"}wf=If}else wf=!1;vg=wf&&(!document.documentMode||9<document.documentMode)}function Tg(){Ft&&(Ft.detachEvent("onpropertychange",Ag),li=Ft=null)}function Ag(t){if(t.propertyName==="value"&&ec(li)){var i=[];Mi(i,li,t,Nn(t)),zu(Yo,i)}}function SS(t,i,a){t==="focusin"?(Tg(),Ft=i,li=a,Ft.attachEvent("onpropertychange",Ag)):t==="focusout"&&Tg()}function wS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(li)}function IS(t,i){if(t==="click")return ec(i)}function bS(t,i){if(t==="input"||t==="change")return ec(i)}function RS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:RS;function Qo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!es.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=hs(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var CS=Hn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Rf=null,$o=null,Cf=!1;function Rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cf||Aa==null||Aa!==hs(l)||(l=Aa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Qo($o,l)||($o=l,l=jc(Rf,"onSelect"),0<l.length&&(i=new ma("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Nf={},Cg={};Hn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ss(t){if(Nf[t])return Nf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Nf[t]=i[a];return t}var Ng=Ss("animationend"),Dg=Ss("animationiteration"),Og=Ss("animationstart"),NS=Ss("transitionrun"),DS=Ss("transitionstart"),OS=Ss("transitioncancel"),Pg=Ss("transitionend"),Mg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function Fn(t,i){Mg.set(t,i),Bn(i,[t])}var xg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ha(i)},xg.set(t,i),i)}return{value:t,source:i,stack:ha(i)}}var Mn=[],wa=0,Of=0;function tc(){for(var t=wa,i=Of=wa=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Vg(a,h,d)}}function nc(t,i,a,l){Mn[wa++]=t,Mn[wa++]=i,Mn[wa++]=a,Mn[wa++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,i,a,l){return nc(t,i,a,l),ic(t)}function Ia(t,i){return nc(t,null,null,i),ic(t)}function Vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ic(t){if(50<El)throw El=0,Ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function PS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new PS(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=xw(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case b:return t=vn(31,a,i,h),t.elementType=b,t.lanes=d,t;case V:return ws(a.children,h,d,i);case $:v=8,h|=24;break;case L:return t=vn(12,a,i,h|2),t.elementType=L,t.lanes=d,t;case re:return t=vn(13,a,i,h),t.elementType=re,t.lanes=d,t;case he:return t=vn(19,a,i,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case G:v=10;break e;case Q:v=9;break e;case ne:v=11;break e;case N:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ws(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function xf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Vf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ra=[],Ca=0,sc=null,ac=0,xn=[],Vn=0,Is=null,Vi=1,ki="";function bs(t,i){Ra[Ca++]=ac,Ra[Ca++]=sc,sc=t,ac=i}function Lg(t,i,a){xn[Vn++]=Vi,xn[Vn++]=ki,xn[Vn++]=Is,Is=t;var l=Vi;t=ki;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-Wt(i)+h|a<<h|l,ki=d+t}else Vi=1<<d|a<<h|l,ki=t}function kf(t){t.return!==null&&(bs(t,1),Lg(t,1,0))}function Lf(t){for(;t===sc;)sc=Ra[--Ca],Ra[Ca]=null,ac=Ra[--Ca],Ra[Ca]=null;for(;t===Is;)Is=xn[--Vn],xn[Vn]=null,ki=xn[--Vn],xn[Vn]=null,Vi=xn[--Vn],xn[Vn]=null}var un=null,ht=null,Be=!1,Rs=null,ui=!1,Uf=Error(s(519));function Cs(t){var i=Error(s(418,""));throw Zo(Pn(i,t)),Uf}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[vt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Pe(Al[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),ds(i,l.value,l.defaultValue,l.children),fa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||Cs(t)}function jg(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:un=un.return}}function Xo(t){if(t!==un)return!1;if(!Be)return jg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&ht&&Cs(t),jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=Kn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,kr(t.type)?(t=rm,rm=null,ht=t):ht=i):ht=un?Kn(t.stateNode.nextSibling):null;return!0}function Wo(){ht=un=null,Be=!1}function zg(){var t=Rs;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Rs=null),t}function Zo(t){Rs===null?Rs=[t]:Rs.push(t)}var jf=ie(null),Ns=null,Li=null;function Tr(t,i,a){ae(jf,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=jf.current,ce(jf)}function zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function qf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),zf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),zf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Jo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&qf(i,t,a,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){Ns=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return qg(Ns,t)}function lc(t,i){return Ns===null&&Ds(t),qg(t,i)}function qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return a}var MS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},xS=r.unstable_scheduleCallback,VS=r.unstable_NormalPriority,Dt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new MS,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&xS(VS,function(){t.controller.abort()})}var tl=null,Hf=0,Na=0,Da=null;function kS(t,i){if(tl===null){var a=tl=[];Hf=0,Na=Gd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Bg,Bg),i}function Bg(){if(--Hf===0&&tl!==null){Da!==null&&(Da.status="fulfilled");var t=tl;tl=null,Na=0,Da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function LS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hg=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kS(t,i),Hg!==null&&Hg(t,i)};var Os=ie(null);function Ff(){var t=Os.current;return t!==null?t:et.pooledCache}function uc(t,i){i===null?ae(Os,Os.current):ae(Os,i.pool)}function Fg(){var t=Ff();return t===null?null:{parent:Dt._currentValue,pool:t}}var nl=Error(s(460)),Gg=Error(s(474)),cc=Error(s(542)),Gf={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hc(){}function Yg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(hc,hc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t;default:if(typeof i.status=="string")i.then(hc,hc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t}throw il=i,nl}}var il=null;function Qg(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function $g(t){if(t===nl||t===cc)throw Error(s(483))}var Ar=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ic(t),Vg(t,null,a),i}return nc(t,l,i,a),ic(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function Qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $f=!1;function sl(){if($f){var t=Da;if(t!==null)throw t}}function al(t,i,a,l){$f=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,F=R.next;R.next=null,v===null?d=F:v.next=F,v=R;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=F:T.next=F,Z.lastBaseUpdate=R))}if(d!==null){var ee=h.baseState;v=0,Z=F=R=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Le&K)===K:(l&K)===K){K!==0&&K===Na&&($f=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,ve=T;K=i;var We=a;switch(ve.tag){case 1:if(Ae=ve.payload,typeof Ae=="function"){ee=Ae.call(We,ee,K);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ve.payload,K=typeof Ae=="function"?Ae.call(We,ee,K):Ae,K==null)break e;ee=E({},ee,K);break e;case 2:Ar=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(F=Z=Y,R=ee):Z=Z.next=Y,v|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(R=ee),h.baseState=R,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Pr|=v,t.lanes=v,t.memoizedState=ee}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var Oa=ie(null),fc=ie(0);function Zg(t,i){t=Gi,ae(fc,t),ae(Oa,i),Gi=t|i.baseLanes}function Xf(){ae(fc,Gi),ae(Oa,Oa.current)}function Wf(){Gi=fc.current,ce(Oa),ce(fc)}var Ir=0,Ce=null,$e=null,Tt=null,dc=!1,Pa=!1,Ps=!1,mc=0,ol=0,Ma=null,US=0;function pt(){throw Error(s(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,h,d){return Ir=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Vy:ky,Ps=!1,d=a(l,h),Ps=!1,Pa&&(d=ey(i,a,l,h)),Jg(t),d}function Jg(t){W.H=Ec;var i=$e!==null&&$e.next!==null;if(Ir=0,Tt=$e=Ce=null,dc=!1,ol=0,Ma=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&oc(t)&&(Vt=!0))}function ey(t,i,a,l){Ce=t;var h=0;do{if(Pa&&(Ma=null),ol=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Tt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=GS,d=i(a,l)}while(Pa);return d}function jS(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ce.flags|=1024),i}function ed(){var t=mc!==0;return mc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Ir=0,Tt=$e=Ce=null,Pa=!1,ol=mc=0,Ma=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ce.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function At(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=Tt===null?Ce.memoizedState:Tt.next;if(i!==null)Tt=i,$e=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Tt===null?Ce.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Ma===null&&(Ma=[]),t=Yg(Ma,t,i),i=Ce,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Vy:ky),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===G)return Zt(t)}throw Error(s(438,String(t)))}function rd(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=id(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function ji(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=At();return sd(i,$e,t)}function sd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,F=i,Z=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Le&ee)===ee:(Ir&ee)===ee){var K=F.revertLane;if(K===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Na&&(Z=!0);else if((Ir&K)===K){F=F.next,K===Na&&(Z=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(T=R=ee,v=d):R=R.next=ee,Ce.lanes|=K,Pr|=K;ee=F.action,Ps&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else K={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(T=R=K,v=d):R=R.next=K,Ce.lanes|=ee,Pr|=ee;F=F.next}while(F!==null&&F!==i);if(R===null?v=d:R.next=T,!_n(d,t.memoizedState)&&(Vt=!0,Z&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=At(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,i,a){var l=Ce,h=At(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n(($e||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=ry.bind(null,l,h,t);if(ul(2048,8,T,[t]),h.getSnapshot!==i||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,xa(9,yc(),iy.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Ir&124)!==0||ny(l,i,a)}return a}function ny(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=id(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function iy(t,i,a,l){i.value=a,i.getSnapshot=l,sy(i)&&ay(t)}function ry(t,i,a){return a(function(){sy(i)&&ay(t)})}function sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function ay(t){var i=Ia(t,2);i!==null&&wn(i,t,2)}function od(t){var i=hn();if(typeof t=="function"){var a=t;if(t=a(),Ps){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},i}function oy(t,i,a,l){return t.baseState=a,sd(t,$e,typeof l=="function"?l:ji)}function zS(t,i,a,l,h){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,v={};W.T=v;try{var T=a(h,l),R=W.S;R!==null&&R(v,T),uy(t,i,T)}catch(F){ld(t,i,F)}finally{W.T=d}}else try{d=a(h,l),uy(t,i,d)}catch(F){ld(t,i,F)}}function uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(t,i,l)},function(l){return ld(t,i,l)}):cy(t,i,a)}function cy(t,i,a){i.status="fulfilled",i.value=a,hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ly(t,a)))}function ld(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}t.action=null}function hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fy(t,i){return i}function dy(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Ce;if(Be){if(ht){t:{for(var h=ht,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Kn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=Py.bind(null,Ce,l),l.dispatch=a,l=od(!1),d=dd.bind(null,Ce,!1,l.queue),l=hn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=zS.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function my(t){var i=At();return py(i,$e,t)}function py(t,i,a){if(i=sd(t,i,fy)[0],t=gc(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(v){throw v===nl?cc:v}else l=i;i=At();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,xa(9,yc(),qS.bind(null,h,a),null)),[l,d,t]}function qS(t,i){t.action=i}function gy(t){var i=At(),a=$e;if(a!==null)return py(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function xa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=id(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function yc(){return{destroy:void 0,resource:void 0}}function yy(){return At().memoizedState}function _c(t,i,a,l){var h=hn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=xa(1|i,yc(),a,l)}function ul(t,i,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Zf(l,$e.memoizedState.deps)?h.memoizedState=xa(i,d,a,l):(Ce.flags|=t,h.memoizedState=xa(1|i,d,a,l))}function _y(t,i){_c(8390656,8,t,i)}function vy(t,i){ul(2048,8,t,i)}function Ey(t,i){return ul(4,2,t,i)}function Ty(t,i){return ul(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sy(t,i,a){a=a!=null?a.concat([t]):null,ul(4,4,Ay.bind(null,i,t),a)}function ud(){}function wy(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Iy(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Ps){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Ir&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=C_(),Ce.lanes|=t,Pr|=t,a)}function by(t,i,a,l){return _n(a,i)?a:Oa.current!==null?(t=cd(t,a,l),_n(t,i)||(Vt=!0),t):(Ir&42)===0?(Vt=!0,t.memoizedState=a):(t=C_(),Ce.lanes|=t,Pr|=t,i)}function Ry(t,i,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=W.T,T={};W.T=T,dd(t,!1,i,a);try{var R=h(),F=W.S;if(F!==null&&F(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Z=LS(R,l);cl(t,i,Z,Sn(t))}else cl(t,i,l,Sn(t))}catch(ee){cl(t,i,{then:function(){},status:"rejected",reason:ee},Sn())}finally{ue.p=d,W.T=v}}function BS(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Cy(t).queue;Ry(t,h,i,ge,a===null?BS:function(){return Ny(t),a(l)})}function Cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Cy(t).next.queue;cl(t,i,{},Sn())}function fd(){return Zt(Cl)}function Dy(){return At().memoizedState}function Oy(){return At().memoizedState}function HS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Sr(a);var l=wr(i,t,a);l!==null&&(wn(l,i,a),rl(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function FS(t,i,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?My(i,a):(a=Pf(t,i,a,l),a!==null&&(wn(a,t,l),xy(a,i,l)))}function Py(t,i,a){var l=Sn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))My(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,v))return nc(t,i,h,0),et===null&&tc(),!1}catch{}finally{}if(a=Pf(t,i,h,l),a!==null)return wn(a,t,l),xy(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=Pf(t,a,l,2),i!==null&&wn(i,t,2)}function vc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function My(t,i){Pa=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function xy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var Ec={readContext:Zt,use:pc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Vy={readContext:Zt,use:pc,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:_y,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,Ay.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=hn();i=i===void 0?null:i;var l=t();if(Ps){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=hn();if(a!==void 0){var h=a(i);if(Ps){gn(!0);try{a(i)}finally{gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=FS.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=od(t);var i=t.queue,a=Py.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=hn();return cd(a,t,i)},useTransition:function(){var t=od(!1);return t=Ry.bind(null,Ce,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=hn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||ny(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_y(ry.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,yc(),iy.bind(null,l,d,a,i),null),a},useId:function(){var t=hn(),i=et.identifierPrefix;if(Be){var a=ki,l=Vi;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=US++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:dy,useActionState:dy,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return hn().memoizedState=HS.bind(null,Ce)}},ky={readContext:Zt,use:pc,useCallback:wy,useContext:Zt,useEffect:vy,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Iy,useReducer:gc,useRef:yy,useState:function(){return gc(ji)},useDebugValue:ud,useDeferredValue:function(t,i){var a=At();return by(a,$e.memoizedState,t,i)},useTransition:function(){var t=gc(ji)[0],i=At().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:fd,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=At();return oy(a,$e,t,i)},useMemoCache:rd,useCacheRefresh:Oy},GS={readContext:Zt,use:pc,useCallback:wy,useContext:Zt,useEffect:vy,useImperativeHandle:Sy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Iy,useReducer:ad,useRef:yy,useState:function(){return ad(ji)},useDebugValue:ud,useDeferredValue:function(t,i){var a=At();return $e===null?cd(a,t,i):by(a,$e.memoizedState,t,i)},useTransition:function(){var t=ad(ji)[0],i=At().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:fd,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=At();return $e!==null?oy(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Oy},Va=null,hl=0;function Tc(t){var i=hl;return hl+=1,Va===null&&(Va=[]),Yg(Va,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ac(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ly(t){var i=t._init;return i(t._payload)}function Uy(t){function i(U,x){if(t){var q=U.deletions;q===null?(U.deletions=[x],U.flags|=16):q.push(x)}}function a(U,x){if(!t)return null;for(;x!==null;)i(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=xi(U,x),U.index=0,U.sibling=null,U}function d(U,x,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<x?(U.flags|=67108866,x):q):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,x,q,J){return x===null||x.tag!==6?(x=xf(q,U.mode,J),x.return=U,x):(x=h(x,q),x.return=U,x)}function R(U,x,q,J){var de=q.type;return de===V?Z(U,x,q.props.children,J,q.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===I&&Ly(de)===x.type)?(x=h(x,q.props),fl(x,q),x.return=U,x):(x=rc(q.type,q.key,q.props,null,U.mode,J),fl(x,q),x.return=U,x)}function F(U,x,q,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==q.containerInfo||x.stateNode.implementation!==q.implementation?(x=Vf(q,U.mode,J),x.return=U,x):(x=h(x,q.children||[]),x.return=U,x)}function Z(U,x,q,J,de){return x===null||x.tag!==7?(x=ws(q,U.mode,J,de),x.return=U,x):(x=h(x,q),x.return=U,x)}function ee(U,x,q){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=xf(""+x,U.mode,q),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return q=rc(x.type,x.key,x.props,null,U.mode,q),fl(q,x),q.return=U,q;case O:return x=Vf(x,U.mode,q),x.return=U,x;case I:var J=x._init;return x=J(x._payload),ee(U,x,q)}if(ut(x)||j(x))return x=ws(x,U.mode,q,null),x.return=U,x;if(typeof x.then=="function")return ee(U,Tc(x),q);if(x.$$typeof===G)return ee(U,lc(U,x),q);Ac(U,x)}return null}function K(U,x,q,J){var de=x!==null?x.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:T(U,x,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===de?R(U,x,q,J):null;case O:return q.key===de?F(U,x,q,J):null;case I:return de=q._init,q=de(q._payload),K(U,x,q,J)}if(ut(q)||j(q))return de!==null?null:Z(U,x,q,J,null);if(typeof q.then=="function")return K(U,x,Tc(q),J);if(q.$$typeof===G)return K(U,x,lc(U,q),J);Ac(U,q)}return null}function Y(U,x,q,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,T(x,U,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?q:J.key)||null,R(x,U,J,de);case O:return U=U.get(J.key===null?q:J.key)||null,F(x,U,J,de);case I:var De=J._init;return J=De(J._payload),Y(U,x,q,J,de)}if(ut(J)||j(J))return U=U.get(q)||null,Z(x,U,J,de,null);if(typeof J.then=="function")return Y(U,x,q,Tc(J),de);if(J.$$typeof===G)return Y(U,x,q,lc(x,J),de);Ac(x,J)}return null}function Ae(U,x,q,J){for(var de=null,De=null,pe=x,Ee=x=0,Lt=null;pe!==null&&Ee<q.length;Ee++){pe.index>Ee?(Lt=pe,pe=null):Lt=pe.sibling;var je=K(U,pe,q[Ee],J);if(je===null){pe===null&&(pe=Lt);break}t&&pe&&je.alternate===null&&i(U,pe),x=d(je,x,Ee),De===null?de=je:De.sibling=je,De=je,pe=Lt}if(Ee===q.length)return a(U,pe),Be&&bs(U,Ee),de;if(pe===null){for(;Ee<q.length;Ee++)pe=ee(U,q[Ee],J),pe!==null&&(x=d(pe,x,Ee),De===null?de=pe:De.sibling=pe,De=pe);return Be&&bs(U,Ee),de}for(pe=l(pe);Ee<q.length;Ee++)Lt=Y(pe,U,Ee,q[Ee],J),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?Ee:Lt.key),x=d(Lt,x,Ee),De===null?de=Lt:De.sibling=Lt,De=Lt);return t&&pe.forEach(function(qr){return i(U,qr)}),Be&&bs(U,Ee),de}function ve(U,x,q,J){if(q==null)throw Error(s(151));for(var de=null,De=null,pe=x,Ee=x=0,Lt=null,je=q.next();pe!==null&&!je.done;Ee++,je=q.next()){pe.index>Ee?(Lt=pe,pe=null):Lt=pe.sibling;var qr=K(U,pe,je.value,J);if(qr===null){pe===null&&(pe=Lt);break}t&&pe&&qr.alternate===null&&i(U,pe),x=d(qr,x,Ee),De===null?de=qr:De.sibling=qr,De=qr,pe=Lt}if(je.done)return a(U,pe),Be&&bs(U,Ee),de;if(pe===null){for(;!je.done;Ee++,je=q.next())je=ee(U,je.value,J),je!==null&&(x=d(je,x,Ee),De===null?de=je:De.sibling=je,De=je);return Be&&bs(U,Ee),de}for(pe=l(pe);!je.done;Ee++,je=q.next())je=Y(pe,U,Ee,je.value,J),je!==null&&(t&&je.alternate!==null&&pe.delete(je.key===null?Ee:je.key),x=d(je,x,Ee),De===null?de=je:De.sibling=je,De=je);return t&&pe.forEach(function(Kw){return i(U,Kw)}),Be&&bs(U,Ee),de}function We(U,x,q,J){if(typeof q=="object"&&q!==null&&q.type===V&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var de=q.key;x!==null;){if(x.key===de){if(de=q.type,de===V){if(x.tag===7){a(U,x.sibling),J=h(x,q.props.children),J.return=U,U=J;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===I&&Ly(de)===x.type){a(U,x.sibling),J=h(x,q.props),fl(J,q),J.return=U,U=J;break e}a(U,x);break}else i(U,x);x=x.sibling}q.type===V?(J=ws(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=rc(q.type,q.key,q.props,null,U.mode,J),fl(J,q),J.return=U,U=J)}return v(U);case O:e:{for(de=q.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===q.containerInfo&&x.stateNode.implementation===q.implementation){a(U,x.sibling),J=h(x,q.children||[]),J.return=U,U=J;break e}else{a(U,x);break}else i(U,x);x=x.sibling}J=Vf(q,U.mode,J),J.return=U,U=J}return v(U);case I:return de=q._init,q=de(q._payload),We(U,x,q,J)}if(ut(q))return Ae(U,x,q,J);if(j(q)){if(de=j(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ve(U,x,q,J)}if(typeof q.then=="function")return We(U,x,Tc(q),J);if(q.$$typeof===G)return We(U,x,lc(U,q),J);Ac(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,x!==null&&x.tag===6?(a(U,x.sibling),J=h(x,q),J.return=U,U=J):(a(U,x),J=xf(q,U.mode,J),J.return=U,U=J),v(U)):a(U,x)}return function(U,x,q,J){try{hl=0;var de=We(U,x,q,J);return Va=null,de}catch(pe){if(pe===nl||pe===cc)throw pe;var De=vn(29,pe,null,U.mode);return De.lanes=J,De.return=U,De}finally{}}}var ka=Uy(!0),jy=Uy(!1),kn=ie(null),ci=null;function br(t){var i=t.alternate;ae(Ot,Ot.current&1),ae(kn,t),ci===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(ci=t)}function zy(t){if(t.tag===22){if(ae(Ot,Ot.current),ae(kn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else Rr()}function Rr(){ae(Ot,Ot.current),ae(kn,kn.current)}function zi(t){ce(kn),ci===t&&(ci=null),ce(Ot)}var Ot=ie(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||im(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function md(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Sr(l);h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(wn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Sr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(wn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Sr(a);l.tag=2,i!=null&&(l.callback=i),i=wr(t,l,a),i!==null&&(wn(i,t,a),rl(i,t,a))}};function qy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function By(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function Ms(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hy(t){wc(t)}function Fy(t){console.error(t)}function Gy(t){wc(t)}function Ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,i)},a}function Yy(t){return t=Sr(t),t.tag=3,t}function Qy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ky(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ky(i,a,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function KS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Jo(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return ci===null?zd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Gf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bd(t,l,h)),!1}throw Error(s(435,a.tag))}return Bd(t,l,h),zd(),!1}if(Be)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(t=Error(s(422),{cause:l}),Zo(Pn(t,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),Zo(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=gd(t.stateNode,l,h),Qf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),vl===null?vl=[d]:vl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=gd(a.stateNode,l,t),Qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mr===null||!Mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yy(h),Qy(h,t,a,l),Qf(a,h),!1}a=a.return}while(a!==null);return!1}var $y=Error(s(461)),Vt=!1;function Gt(t,i,a,l){i.child=t===null?jy(i,null,a,l):ka(i,t.child,a,l)}function Xy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ds(i),l=Jf(t,i,a,v,d,h),T=ed(),t!==null&&!Vt?(td(t,i,h),qi(t,i,h)):(Be&&T&&kf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Wy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Zy(t,i,d,l,h)):(t=rc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Zy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return yd(t,i,a,l,h)}function Jy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return e_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):Xf(),zy(i);else return i.lanes=i.childLanes=536870912,e_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(uc(i,d.cachePool),Zg(i,d),Rr(),i.memoizedState=null):(t!==null&&uc(i,null),Xf(),Rr());return Gt(t,i,h,a),i.child}function e_(t,i,a,l){var h=Ff();return h=h===null?null:{parent:Dt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&uc(i,null),Xf(),zy(i),t!==null&&Jo(t,i,l,!0),null}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yd(t,i,a,l,h){return Ds(i),a=Jf(t,i,a,l,void 0,h),l=ed(),t!==null&&!Vt?(td(t,i,h),qi(t,i,h)):(Be&&l&&kf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function t_(t,i,a,l,h,d){return Ds(i),i.updateQueue=null,a=ey(i,l,a,h),Jg(t),l=ed(),t!==null&&!Vt?(td(t,i,d),qi(t,i,d)):(Be&&l&&kf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function n_(t,i,a,l,h){if(Ds(i),i.stateNode===null){var d=ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=Zt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Zt(v):ba,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(md(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&pd.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=Ms(a,T);d.props=R;var F=d.context,Z=a.contextType;v=ba,typeof Z=="object"&&Z!==null&&(v=Zt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==v)&&By(i,d,l,v),Ar=!1;var K=i.memoizedState;d.state=K,al(i,l,d,h),sl(),F=i.memoizedState,T||K!==F||Ar?(typeof ee=="function"&&(md(i,a,ee,l),F=i.memoizedState),(R=Ar||qy(i,a,R,l,K,F,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),v=i.memoizedProps,Z=Ms(a,v),d.props=Z,ee=i.pendingProps,K=d.context,F=a.contextType,R=ba,typeof F=="object"&&F!==null&&(R=Zt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||K!==R)&&By(i,d,l,R),Ar=!1,K=i.memoizedState,d.state=K,al(i,l,d,h),sl();var Y=i.memoizedState;v!==ee||K!==Y||Ar||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof T=="function"&&(md(i,a,T,l),Y=i.memoizedState),(Z=Ar||qy(i,a,Z,l,K,Y,R)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=R,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ka(i,t.child,null,h),i.child=ka(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function i_(t,i,a,l){return Wo(),i.flags|=256,Gt(t,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Fg()}}function Ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function r_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?br(i):Rr(),Be){var T=ht,R;if(R=T){e:{for(R=T,T=ui;R.nodeType!==8;){if(!T){T=null;break e}if(R=Kn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:Is!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},R=vn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,un=i,ht=null,R=!0):R=!1}R||Cs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return im(T)?i.lanes=32:i.lanes=536870912,null;zi(i)}return T=l.children,l=l.fallback,h?(Rr(),h=i.mode,T=Rc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=vd(a),h.childLanes=Ed(t,v,a),i.memoizedState=_d,l):(br(i),Td(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(br(i),i.flags&=-257,i=Ad(t,i,a)):i.memoizedState!==null?(Rr(),i.child=t.child,i.flags|=128,i=null):(Rr(),h=l.fallback,T=i.mode,l=Rc({mode:"visible",children:l.children},T),h=ws(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ka(i,t.child,null,a),l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,v,a),i.memoizedState=_d,i=h);else if(br(i),im(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=Ad(t,i,a)}else if(Vt||Jo(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:mr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ia(t,l),wn(v,t,l),$y;T.data==="$?"||zd(),i=Ad(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ht=Kn(T.nextSibling),un=i,Be=!0,Rs=null,ui=!1,t!==null&&(xn[Vn++]=Vi,xn[Vn++]=ki,xn[Vn++]=Is,Vi=t.id,ki=t.overflow,Is=i),i=Td(i,l.children),i.flags|=4096);return i}return h?(Rr(),h=l.fallback,T=i.mode,R=t.child,F=R.sibling,l=xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,F!==null?h=xi(F,h):(h=ws(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=vd(a):(R=T.cachePool,R!==null?(F=Dt._currentValue,R=R.parent!==F?{parent:F,pool:F}:R):R=Fg(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Ed(t,v,a),i.memoizedState=_d,l):(br(i),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Td(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ad(t,i,a){return ka(i,t.child,null,a),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function s_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,a)}function Sd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function a_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s_(t,a,i);else if(t.tag===19)s_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(Ot,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(i,!0,a,null,d);break;case"together":Sd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function YS(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Tr(i,Dt,t.memoizedState.cache),Wo();break;case 27:case 5:dr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?r_(t,i,a):(br(i),t=qi(t,i,a),t!==null?t.sibling:null);br(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Jo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return a_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(Ot,Ot.current),l)break;return null;case 22:case 23:return i.lanes=0,Jy(t,i,a);case 24:Tr(i,Dt,t.memoizedState.cache)}return qi(t,i,a)}function o_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!wd(t,a)&&(i.flags&128)===0)return Vt=!1,YS(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Be&&(i.flags&1048576)!==0&&Lg(i,ac,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Mf(l)?(t=Ms(l,t),i.tag=1,i=n_(null,i,l,t,a)):(i.tag=0,i=yd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ne){i.tag=11,i=Xy(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=Wy(null,i,l,t,a);break e}}throw i=Bt(l)||l,Error(s(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ms(l,i.pendingProps),n_(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(t,i),al(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Tr(i,Dt,l),l!==d.cache&&qf(i,[Dt],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=i_(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),Zo(h),i=i_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Kn(t.firstChild),un=i,Be=!0,Rs=null,ui=!0,a=jy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){i=qi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=hv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=qc(Se.current).createElement(a),l[Rt]=i,l[vt]=t,Yt(l,a,t),mt(l),i.stateNode=l):i.memoizedState=hv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return dr(i),t===null&&Be&&(l=i.stateNode=lv(i.type,i.pendingProps,Se.current),un=i,ui=!0,h=ht,kr(i.type)?(rm=h,ht=Kn(l.firstChild)):ht=h),Gt(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ht)&&(l=Tw(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,un=i,ht=Kn(l.firstChild),ui=!1,h=!0):h=!1),h||Cs(i)),dr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:v!==null&&em(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,jS,null,null,a),Cl._currentValue=h),bc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ht)&&(a=Aw(a,i.pendingProps,ui),a!==null?(i.stateNode=a,un=i,ht=null,t=!0):t=!1),t||Cs(i)),null;case 13:return r_(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ka(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Xy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Tr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ds(i),h=Zt(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Wy(t,i,i.type,i.pendingProps,a);case 15:return Zy(t,i,i.type,i.pendingProps,a);case 19:return a_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Jy(t,i,a);case 24:return Ds(i),l=Zt(Dt),t===null?(h=Ff(),h===null&&(h=et,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),Tr(i,Dt,h)):((t.lanes&a)!==0&&(Yf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,Dt,l)):(l=d.cache,Tr(i,Dt,l),l!==h.cache&&qf(i,[Dt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function l_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gv(i)){if(i=kn.current,i!==null&&((Le&4194048)===Le?ci!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ci))throw il=Gf,Gg;t.flags|=8192}}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Do():536870912,t.lanes|=i,za|=i)}function dl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function QS(t,i,a){var l=i.pendingProps;switch(Lf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(Dt),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zg())),at(i),null;case 26:return a=i.memoizedState,t===null?(Bi(i),a!==null?(at(i),l_(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Bi(i),at(i),l_(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&Bi(i),at(i),i.flags&=-16777217),null;case 27:Ti(i),a=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=_e.current,Xo(i)?Ug(i):(t=lv(h,l,a),i.stateNode=t,Bi(i))}return at(i),null;case 5:if(Ti(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=_e.current,Xo(i))Ug(i);else{switch(h=qc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Rt]=i,t[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Yt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Cs(i)}else t=qc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),at(i),null;case 4:return Wn(),t===null&&$d(i.stateNode.containerInfo),at(i),null;case 10:return Ui(i.type),at(i),null;case 19:if(ce(Ot),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Sc(t),d!==null){for(i.flags|=128,dl(h,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)kg(a,t),a=a.sibling;return ae(Ot,Ot.current&1|2),i.child}t=t.sibling}h.tail!==null&&bn()>Oc&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Sc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*bn()-h.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bn(),i.sibling=null,t=Ot.current,ae(Ot,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return zi(i),Wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ce(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(Dt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function $S(t,i){switch(Lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(Dt),Wn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ce(Ot),null;case 4:return Wn(),null;case 10:return Ui(i.type),null;case 22:case 23:return zi(i),Wf(),t!==null&&ce(Os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(Dt),null;case 25:return null;default:return null}}function u_(t,i){switch(Lf(i),i.tag){case 3:Ui(Dt),Wn();break;case 26:case 27:case 5:Ti(i);break;case 4:Wn();break;case 13:zi(i);break;case 19:ce(Ot);break;case 10:Ui(i.type);break;case 22:case 23:zi(i),Wf(),t!==null&&ce(Os);break;case 24:Ui(Dt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function Cr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,F=T;try{F()}catch(Z){Ze(h,R,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ze(i,i.return,Z)}}function c_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(l){Ze(t,t.return,l)}}}function h_(t,i,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function hi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function f_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Id(t,i,a){try{var l=t.stateNode;gw(l,t.type,a,i),l[vt]=i}catch(h){Ze(t,t.return,h)}}function d_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&kr(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function Nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,i,a),t=t.sibling;t!==null;)Nc(t,i,a),t=t.sibling}function m_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,a),i[Rt]=t,i[vt]=a}catch(d){Ze(t,t.return,d)}}var Hi=!1,gt=!1,Cd=!1,p_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function XS(t,i){if(t=t.containerInfo,Zd=Yc,t=bg(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,F=0,Z=0,ee=t,K=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(R=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)K=ee,ee=Y;for(;;){if(ee===t)break t;if(K===a&&++F===h&&(T=v),K===d&&++Z===l&&(R=v),(Y=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Y}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Yc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Ms(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function g_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(t,a),l&4&&ml(5,a);break;case 1:if(Nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ms(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&c_(a),l&512&&pl(a,a.return);break;case 3:if(Nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&m_(a);case 26:case 5:Nr(t,a),i===null&&l&4&&f_(a),l&512&&pl(a,a.return);break;case 12:Nr(t,a);break;case 13:Nr(t,a),l&4&&v_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sw.bind(null,a),Sw(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||gt,h=Hi;var d=gt;Hi=l,(gt=i)&&!d?Dr(t,a,(a.subtreeFlags&8772)!==0):Nr(t,a),Hi=h,gt=d}break;case 30:break;default:Nr(t,a)}}function y_(t){var i=t.alternate;i!==null&&(t.alternate=null,y_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,fn=!1;function Fi(t,i,a){for(a=a.child;a!==null;)__(t,i,a),a=a.sibling}function __(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||hi(a,i),Fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||hi(a,i);var l=st,h=fn;kr(a.type)&&(st=a.stateNode,fn=!1),Fi(t,i,a),wl(a.stateNode),st=l,fn=h;break;case 5:gt||hi(a,i);case 6:if(l=st,h=fn,st=null,Fi(t,i,a),st=l,fn=h,st!==null)if(fn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:st!==null&&(fn?(t=st,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pl(t)):av(st,a.stateNode));break;case 4:l=st,h=fn,st=a.stateNode.containerInfo,fn=!0,Fi(t,i,a),st=l,fn=h;break;case 0:case 11:case 14:case 15:gt||Cr(2,a,i),gt||Cr(4,a,i),Fi(t,i,a);break;case 1:gt||(hi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h_(a,i,l)),Fi(t,i,a);break;case 21:Fi(t,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Fi(t,i,a),gt=l;break;default:Fi(t,i,a)}}function v_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){Ze(i,i.return,a)}}function WS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new p_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new p_),i;default:throw Error(s(435,t.tag))}}function Nd(t,i){var a=WS(t);i.forEach(function(l){var h=aw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function En(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(kr(T.type)){st=T.stateNode,fn=!1;break e}break;case 5:st=T.stateNode,fn=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(st===null)throw Error(s(160));__(d,v,h),st=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)E_(i,t),i=i.sibling}var Gn=null;function E_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(i,t),Tn(t),l&4&&(Cr(3,t,t.return),ml(3,t),Cr(5,t,t.return));break;case 1:En(i,t),Tn(t),l&512&&(gt||a===null||hi(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(En(i,t),Tn(t),l&512&&(gt||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[Rt]=t,mt(d),l=d;break e;case"link":var v=mv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=mv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,mt(d),l=d}t.stateNode=l}else pv(h,t.type,t.stateNode);else t.stateNode=dv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?pv(h,t.type,t.stateNode):dv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(i,t),Tn(t),l&512&&(gt||a===null||hi(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(i,t),Tn(t),l&512&&(gt||a===null||hi(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(Y){Ze(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Id(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(En(i,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){Ze(t,t.return,Y)}}break;case 3:if(Fc=null,h=Gn,Gn=Bc(i.containerInfo),En(i,t),Gn=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(Y){Ze(t,t.return,Y)}Cd&&(Cd=!1,T_(t));break;case 4:l=Gn,Gn=Bc(t.stateNode.containerInfo),En(i,t),Tn(t),Gn=l;break;case 12:En(i,t),Tn(t);break;case 13:En(i,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,F=Hi,Z=gt;if(Hi=F||h,gt=Z||R,En(i,t),gt=Z,Hi=F,Tn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Hi||gt||xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var ee=R.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){Ze(R,R.return,Y)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(Y){Ze(R,R.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nd(t,a))));break;case 19:En(i,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 30:break;case 21:break;default:En(i,t),Tn(t)}}function Tn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(d_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);Nc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var T=bd(t);Nc(t,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,F=bd(t);Rd(t,F,R);break;default:throw Error(s(161))}}catch(Z){Ze(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function T_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;T_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)g_(t,i.alternate,i),i=i.sibling}function xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),xs(i);break;case 1:hi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&h_(i,i.return,a),xs(i);break;case 27:wl(i.stateNode);case 26:case 5:hi(i,i.return),xs(i);break;case 22:i.memoizedState===null&&xs(i);break;case 30:xs(i);break;default:xs(i)}t=t.sibling}}function Dr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Dr(h,d,a),ml(4,d);break;case 1:if(Dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ze(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Xg(R[h],T)}catch(F){Ze(l,l.return,F)}}a&&v&64&&c_(d),pl(d,d.return);break;case 27:m_(d);case 26:case 5:Dr(h,d,a),a&&l===null&&v&4&&f_(d),pl(d,d.return);break;case 12:Dr(h,d,a);break;case 13:Dr(h,d,a),a&&v&4&&v_(h,d);break;case 22:d.memoizedState===null&&Dr(h,d,a),pl(d,d.return);break;case 30:break;default:Dr(h,d,a)}i=i.sibling}}function Dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function fi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(t,i,a,l),i=i.sibling}function A_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,a,l),h&2048&&ml(9,i);break;case 1:fi(t,i,a,l);break;case 3:fi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){fi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ze(i,i.return,R)}}else fi(t,i,a,l);break;case 13:fi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?fi(t,i,a,l):gl(t,i):d._visibility&2?fi(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Dd(v,i);break;case 24:fi(t,i,a,l),h&2048&&Od(i.alternate,i);break;default:fi(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:La(d,v,T,R,h),ml(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?La(d,v,T,R,h):gl(d,v):(Z._visibility|=2,La(d,v,T,R,h)),h&&F&2048&&Dd(v.alternate,v);break;case 24:La(d,v,T,R,h),h&&F&2048&&Od(v.alternate,v);break;default:La(d,v,T,R,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Dd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Od(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function Ua(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 26:Ua(t),t.flags&yl&&t.memoizedState!==null&&kw(Gn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t);break;case 3:case 4:var i=Gn;Gn=Bc(t.stateNode.containerInfo),Ua(t),Gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yl,yl=16777216,Ua(t),yl=i):Ua(t));break;default:Ua(t)}}function w_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,b_(l,t)}w_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Cr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):_l(t);break;default:_l(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,b_(l,t)}w_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function b_(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(y_(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var ZS={getCacheForType:function(t){var i=Zt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},JS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,Le=0,Ke=0,An=null,Or=!1,ja=!1,Pd=!1,Gi=0,ft=0,Pr=0,Vs=0,Md=0,Ln=0,za=0,vl=null,dn=null,xd=!1,Vd=0,Oc=1/0,Pc=null,Mr=null,Kt=0,xr=null,qa=null,Ba=0,kd=0,Ld=null,R_=null,El=0,Ud=null;function Sn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(W.T!==null){var t=Na;return t!==0?t:Gd()}return pr()}function C_(){Ln===0&&(Ln=(Le&536870912)===0||Be?No():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Ln}function wn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Vr(t,Le,Ln,!1)),Si(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Vs|=a),ft===4&&Vr(t,Le,Ln,!1)),di(t))}function N_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||os(t,i),h=l?nw(t,i):qd(t,i,!0),d=l;do{if(h===0){ja&&!l&&Vr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ew(a)){h=qd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=vl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ha(T,v).flags|=256),v=qd(T,v,!1),v!==2){if(Pd&&!R){T.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),Vr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,Ln,!Or);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Vd+300-bn(),10<h)){if(Vr(l,i,Ln,!Or),aa(l,0,!0)!==0)break e;l.timeoutHandle=rv(D_.bind(null,l,a,dn,Pc,xd,i,Ln,Vs,za,Or,d,2,-0,0),h);break e}D_(l,a,dn,Pc,xd,i,Ln,Vs,za,Or,d,0,-0,0)}}break}while(!0);di(t)}function D_(t,i,a,l,h,d,v,T,R,F,Z,ee,K,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:Vw},S_(i),ee=Lw(),ee!==null)){t.cancelPendingCommit=ee(L_.bind(null,t,i,d,a,l,h,v,T,R,Z,1,K,Y)),Vr(t,d,v,!F);return}L_(t,i,d,a,l,h,v,T,R)}function ew(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(t,i,a,l){i&=~Md,i&=~Vs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(t,a,i)}function Mc(){return(Ge&6)===0?(Tl(0),!1):!0}function jd(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Li=Ns=null,nd(t),Va=null,hl=0,t=Oe;for(;t!==null;)u_(t.alternate,t),t=t.return;Oe=null}}function Ha(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_w(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jd(),et=t,Oe=a=xi(t.current,null),Le=i,Ke=0,An=null,Or=!1,ja=os(t,i),Pd=!1,za=Ln=Md=Vs=Pr=ft=0,dn=vl=null,xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),d=1<<h;i|=t[h],l&=~d}return Gi=i,tc(),a}function O_(t,i){Ce=null,W.H=Ec,i===nl||i===cc?(i=Qg(),Ke=3):i===Gg?(i=Qg(),Ke=4):Ke=i===$y?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Oe===null&&(ft=1,Ic(t,Pn(i,t.current)))}function P_(){var t=W.H;return W.H=Ec,t===null?Ec:t}function M_(){var t=W.A;return W.A=ZS,t}function zd(){ft=4,Or||(Le&4194048)!==Le&&kn.current!==null||(ja=!0),(Pr&134217727)===0&&(Vs&134217727)===0||et===null||Vr(et,Le,Ln,!1)}function qd(t,i,a){var l=Ge;Ge|=2;var h=P_(),d=M_();(et!==t||Le!==i)&&(Pc=null,Ha(t,i)),i=!1;var v=ft;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,R=An;switch(Ke){case 8:jd(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var F=Ke;if(Ke=0,An=null,Fa(t,T,R,F),a&&ja){v=0;break e}break;default:F=Ke,Ke=0,An=null,Fa(t,T,R,F)}}tw(),v=ft;break}catch(Z){O_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Li=Ns=null,Ge=l,W.H=h,W.A=d,Oe===null&&(et=null,Le=0,tc()),v}function tw(){for(;Oe!==null;)x_(Oe)}function nw(t,i){var a=Ge;Ge|=2;var l=P_(),h=M_();et!==t||Le!==i?(Pc=null,Oc=bn()+500,Ha(t,i)):ja=os(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=An;t:switch(Ke){case 1:Ke=0,An=null,Fa(t,i,d,1);break;case 2:case 9:if(Kg(d)){Ke=0,An=null,V_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),di(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Kg(d)?(Ke=0,An=null,V_(i)):(Ke=0,An=null,Fa(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||gv(v)){Ke=0,An=null;var R=T.sibling;if(R!==null)Oe=R;else{var F=T.return;F!==null?(Oe=F,xc(F)):Oe=null}break t}}Ke=0,An=null,Fa(t,i,d,5);break;case 6:Ke=0,An=null,Fa(t,i,d,6);break;case 8:jd(),ft=6;break e;default:throw Error(s(462))}}iw();break}catch(Z){O_(t,Z)}while(!0);return Li=Ns=null,W.H=l,W.A=h,Ge=a,Oe!==null?0:(et=null,Le=0,tc(),ft)}function iw(){for(;Oe!==null&&!Io();)x_(Oe)}function x_(t){var i=o_(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?xc(t):Oe=i}function V_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=t_(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=t_(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:nd(i);default:u_(a,i),i=Oe=kg(i,Gi),i=o_(a,i,Gi)}t.memoizedProps=t.pendingProps,i===null?xc(t):Oe=i}function Fa(t,i,a,l){Li=Ns=null,nd(i),Va=null,hl=0;var h=i.return;try{if(KS(t,h,i,a,Le)){ft=1,Ic(t,Pn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ft=1,Ic(t,Pn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:ja||(Le&536870912)!==0?t=!1:(Or=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){k_(i,Or);return}t=i.return;var a=QS(i.alternate,i,Gi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ft===0&&(ft=5)}function k_(t,i){do{var a=$S(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ft=6,Oe=null}function L_(t,i,a,l,h,d,v,T,R){t.cancelPendingCommit=null;do Vc();while(Kt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Of,Oo(t,a,d,v,T,R),t===et&&(Oe=et=null,Le=0),qa=i,xr=t,Ba=a,kd=d,Ld=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ow(is,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ue.p,ue.p=2,v=Ge,Ge|=4;try{XS(t,i,a)}finally{Ge=v,ue.p=h,W.T=l}}Kt=1,U_(),j_(),z_()}}function U_(){if(Kt===1){Kt=0;var t=xr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{E_(i,t);var d=Jd,v=bg(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ig(T.ownerDocument.documentElement,T)){if(R!==null&&bf(T)){var F=R.start,Z=R.end;if(Z===void 0&&(Z=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Y=K.getSelection(),Ae=T.textContent.length,ve=Math.min(R.start,Ae),We=R.end===void 0?ve:Math.min(R.end,Ae);!Y.extend&&ve>We&&(v=We,We=ve,ve=v);var U=wg(T,ve),x=wg(T,We);if(U&&x&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==x.node||Y.focusOffset!==x.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),ve>We?(Y.addRange(q),Y.extend(x.node,x.offset)):(q.setEnd(x.node,x.offset),Y.addRange(q))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Yc=!!Zd,Jd=Zd=null}finally{Ge=h,ue.p=l,W.T=a}}t.current=i,Kt=2}}function j_(){if(Kt===2){Kt=0;var t=xr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{g_(t,i.alternate,i)}finally{Ge=h,ue.p=l,W.T=a}}Kt=3}}function z_(){if(Kt===4||Kt===3){Kt=0,Du();var t=xr,i=qa,a=Ba,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,qa=xr=null,q_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mr=null),oa(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{W.T=i,ue.p=h}}(Ba&3)!==0&&Vc(),di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ud?El++:(El=0,Ud=t):El=0,Tl(0)}}function q_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Vc(t){return U_(),j_(),z_(),B_()}function B_(){if(Kt!==5)return!1;var t=xr,i=kd;kd=0;var a=oa(Ba),l=W.T,h=ue.p;try{ue.p=32>a?32:a,W.T=null,a=Ld,Ld=null;var d=xr,v=Ba;if(Kt=0,qa=xr=null,Ba=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,I_(d.current),A_(d,d.current,v,a),Ge=T,Tl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{ue.p=h,W.T=l,q_(t,i)}}function H_(t,i,a){i=Pn(a,i),i=gd(t.stateNode,i,2),t=wr(t,i,2),t!==null&&(Si(t,2),di(t))}function Ze(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){t=Pn(a,t),a=Yy(2),l=wr(i,a,2),l!==null&&(Qy(a,l,i,t),Si(l,2),di(l));break}}i=i.return}}function Bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new JS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pd=!0,h.add(a),t=rw.bind(null,t,i,a),i.then(t,t))}function rw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ft===4||ft===3&&(Le&62914560)===Le&&300>bn()-Vd?(Ge&2)===0&&Ha(t,0):Md|=a,za===Le&&(za=0)),di(t)}function F_(t,i){i===0&&(i=Do()),t=Ia(t,i),t!==null&&(Si(t,i),di(t))}function sw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function aw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function ow(t,i){return ts(t,i)}var kc=null,Ga=null,Hd=!1,Lc=!1,Fd=!1,ks=0;function di(t){t!==Ga&&t.next===null&&(Ga===null?kc=Ga=t:Ga=Ga.next=t),Lc=!0,Hd||(Hd=!0,uw())}function Tl(t,i){if(!Fd&&Lc){Fd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Le,d=aa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);Fd=!1}}function lw(){G_()}function G_(){Lc=Hd=!1;var t=0;ks!==0&&(yw()&&(t=ks),ks=0);for(var i=bn(),a=null,l=kc;l!==null;){var h=l.next,d=K_(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Tl(t)}function K_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Co(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=et,a=Le,a=aa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||os(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ns(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=is;break;case 268435456:a=sa;break;default:a=is}return l=Y_.bind(null,t),a=ts(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,i){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Le;return l=aa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(N_(t,l,i),K_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?Y_.bind(null,t):null)}function Q_(t,i){if(Vc())return null;N_(t,i,!0)}function uw(){vw(function(){(Ge&6)!==0?ts(bo,lw):G_()})}function Gd(){return ks===0&&(ks=No()),ks}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function cw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$_((h[vt]||null).action),v=l.submitter;v&&(i=(i=v[vt]||null)?$_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ma("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var R=v?X_(h,v):new FormData(h);hd(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?X_(h,v):new FormData(h),hd(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Kd=0;Kd<Df.length;Kd++){var Yd=Df[Kd],hw=Yd.toLowerCase(),fw=Yd[0].toUpperCase()+Yd.slice(1);Fn(hw,"on"+fw)}Fn(Ng,"onAnimationEnd"),Fn(Dg,"onAnimationIteration"),Fn(Og,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(NS,"onTransitionRun"),Fn(DS,"onTransitionStart"),Fn(OS,"onTransitionCancel"),Fn(Pg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function W_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,F=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(Z){wc(Z)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,F=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(Z){wc(Z)}h.currentTarget=null,d=R}}}}function Pe(t,i){var a=i[Mo];a===void 0&&(a=i[Mo]=new Set);var l=t+"__bubble";a.has(l)||(Z_(i,t,2,!1),a.add(l))}function Qd(t,i,a){var l=0;i&&(l|=4),Z_(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Uc]){t[Uc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(dw.has(a)||Qd(a,!1,t),Qd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Qd("selectionchange",!1,i))}}function Z_(t,i,a,l){switch(Av(i)){case 2:var h=zw;break;case 8:h=qw;break;default:h=um}a=h.bind(null,i,a,t),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=wi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}zu(function(){var F=d,Z=Nn(a),ee=[];e:{var K=Mg.get(t);if(K!==void 0){var Y=ma,Ae=t;switch(t){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":Y=Ea;break;case"focusin":Ae="focus",Y=ya;break;case"focusout":Ae="blur",Y=ya;break;case"beforeblur":case"afterblur":Y=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Qu;break;case Ng:case Dg:case Og:Y=_a;break;case Pg:Y=Xu;break;case"scroll":case"scrollend":Y=qu;break;case"wheel":Y=Ta;break;case"copy":case"cut":case"paste":Y=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ko;break;case"toggle":case"beforetoggle":Y=Zu}var ve=(i&4)!==0,We=!ve&&(t==="scroll"||t==="scrollend"),U=ve?K!==null?K+"Capture":null:K;ve=[];for(var x=F,q;x!==null;){var J=x;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=ps(x,U),J!=null&&ve.push(Sl(x,J,q))),We)break;x=x.return}0<ve.length&&(K=new Y(K,Ae,null,a,Z),ee.push({event:K,listeners:ve}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Ci&&(Ae=a.relatedTarget||a.fromElement)&&(wi(Ae)||Ae[Rn]))break e;if((Y||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(Ae=a.relatedTarget||a.toElement,Y=F,Ae=Ae?wi(Ae):null,Ae!==null&&(We=u(Ae),ve=Ae.tag,Ae!==We||ve!==5&&ve!==27&&ve!==6)&&(Ae=null)):(Y=null,Ae=F),Y!==Ae)){if(ve=On,J="onMouseLeave",U="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ko,J="onPointerLeave",U="onPointerEnter",x="pointer"),We=Y==null?K:ei(Y),q=Ae==null?K:ei(Ae),K=new ve(J,x+"leave",Y,a,Z),K.target=We,K.relatedTarget=q,J=null,wi(Z)===F&&(ve=new ve(U,x+"enter",Ae,a,Z),ve.target=q,ve.relatedTarget=We,J=ve),We=J,Y&&Ae)t:{for(ve=Y,U=Ae,x=0,q=ve;q;q=Ka(q))x++;for(q=0,J=U;J;J=Ka(J))q++;for(;0<x-q;)ve=Ka(ve),x--;for(;0<q-x;)U=Ka(U),q--;for(;x--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=Ka(ve),U=Ka(U)}ve=null}else ve=null;Y!==null&&J_(ee,K,Y,ve,!1),Ae!==null&&We!==null&&J_(ee,We,Ae,ve,!0)}}e:{if(K=F?ei(F):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var de=_g;else if(Nt(K))if(vg)de=bS;else{de=wS;var De=SS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&jo(F.elementType)&&(de=_g):de=IS;if(de&&(de=de(t,F))){Mi(ee,de,a,Z);break e}De&&De(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&vr(K,"number",K.value)}switch(De=F?ei(F):window,t){case"focusin":(Nt(De)||De.contentEditable==="true")&&(Aa=De,Rf=F,$o=null);break;case"focusout":$o=Rf=Aa=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Rg(ee,a,Z);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Rg(ee,a,Z)}var pe;if(oi)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ve?X(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Ve||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ve&&(pe=qo()):(ii=Z,Er="value"in ii?ii.value:ii.textContent,Ve=!0)),De=jc(F,Ee),0<De.length&&(Ee=new Fo(Ee,t,null,a,Z),ee.push({event:Ee,listeners:De}),pe?Ee.data=pe:(pe=le(a),pe!==null&&(Ee.data=pe)))),(pe=y?Ct(t,a):ke(t,a))&&(Ee=jc(F,"onBeforeInput"),0<Ee.length&&(De=new Fo("onBeforeInput","beforeinput",null,a,Z),ee.push({event:De,listeners:Ee}),De.data=pe)),cw(ee,t,F,a,Z)}W_(ee,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=ps(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,F=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||F===null||(R=F,h?(F=ps(a,d),F!=null&&v.unshift(Sl(a,F,R))):h||(F=ps(a,d),F!=null&&v.push(Sl(a,F,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var mw=/\r\n?/g,pw=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(mw,`
`).replace(pw,"")}function tv(t,i){return i=ev(i),ev(t)===i}function zc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Cn(t,""+l);break;case"className":ti(t,"class",l);break;case"tabIndex":ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){ti(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),_r(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_r(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,_r(t,a,l))}}function Wd(t,i,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_r(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=v=h=null,R=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":R=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Z,a,null)}}fs(t,d,T,R,F,v,h,!1),fa(t);return;case"select":Pe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}ds(t,l,h,d),fa(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Pe(Al[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,F,l,a,null)}return;default:if(jo(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Wd(t,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function gw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,F=null,Z=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=ee;default:l.hasOwnProperty(Y)||Xe(t,i,Y,null,l,ee)}}for(var K in l){var Y=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Y!=null||ee!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":Z=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&Xe(t,i,K,Y,l,ee)}}yn(t,v,T,R,F,Z,d,h);return;case"select":Y=v=T=K=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Y=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=T,a=v,l=Y,K!=null?Ri(t,!!a,K,!1):!!l!=!!a&&(i!=null?Ri(t,!!a,i,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,K,Y);return;case"option":for(var Ae in a)if(K=a[Ae],a.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:Xe(t,i,Ae,null,l,K)}for(R in l)if(K=l[R],Y=a[R],l.hasOwnProperty(R)&&K!==Y&&(K!=null||Y!=null))switch(R){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Xe(t,i,R,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&Xe(t,i,ve,null,l,K);for(F in l)if(K=l[F],Y=a[F],l.hasOwnProperty(F)&&K!==Y&&(K!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Xe(t,i,F,K,l,Y)}return;default:if(jo(i)){for(var We in a)K=a[We],a.hasOwnProperty(We)&&K!==void 0&&!l.hasOwnProperty(We)&&Wd(t,i,We,void 0,l,K);for(Z in l)K=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||K===Y||K===void 0&&Y===void 0||Wd(t,i,Z,K,l,Y);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&Xe(t,i,U,null,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K==null&&Y==null||Xe(t,i,ee,K,l,Y)}var Zd=null,Jd=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function yw(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,_w=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(Ew)}:rv;function Ew(t){setTimeout(function(){throw t})}function kr(t){return t==="head"}function av(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&wl(v.documentElement),a&2&&wl(v.body),a&4)for(a=v.head,wl(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[ls]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Pl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Pl(i)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Tw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ls])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Aw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Sw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var rm=null;function ov(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function lv(t,i,a){switch(i=qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yr(t)}var Un=new Map,uv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ue.d;ue.d={f:ww,r:Iw,D:bw,C:Rw,L:Cw,m:Nw,X:Ow,S:Dw,M:Pw};function ww(){var t=Ki.f(),i=Mc();return t||i}function Iw(t){var i=Jn(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):Ki.r(t)}var Ya=typeof document>"u"?null:document;function cv(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=Et(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),uv.has(h)||(uv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",t),mt(i),l.head.appendChild(i)))}}function bw(t){Ki.D(t),cv("dns-prefetch",t,null)}function Rw(t,i){Ki.C(t,i),cv("preconnect",t,i)}function Cw(t,i,a){Ki.L(t,i,a);var l=Ya;if(l&&t&&i){var h='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=$a(t)}Un.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Yt(i,"link",t),mt(i),l.head.appendChild(i)))}}function Nw(t,i){Ki.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Un.has(d)&&(t=E({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Yt(l,"link",t),mt(l),a.head.appendChild(l)}}}function Dw(t,i,a){Ki.S(t,i,a);var l=Ya;if(l&&t){var h=an(l).hoistableStyles,d=Qa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Il(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&sm(t,a);var R=v=l.createElement("link");mt(R),Yt(R,"link",t),R._p=new Promise(function(F,Z){R.onload=F,R.onerror=Z}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Ow(t,i){Ki.X(t,i);var a=Ya;if(a&&t){var l=an(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0},i),(i=Un.get(h))&&am(t,i),d=a.createElement("script"),mt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Pw(t,i){Ki.M(t,i);var a=Ya;if(a&&t){var l=an(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&am(t,i),d=a.createElement("script"),mt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hv(t,i,a,l){var h=(h=Se.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=an(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=an(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||Mw(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=an(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+Et(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function fv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Mw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),mt(i),t.head.appendChild(i))}function $a(t){return'[src="'+Et(t)+'"]'}function bl(t){return"script[async]"+t}function dv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Yt(l,"style",h),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=fv(a),(h=Un.get(h))&&sm(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Yt(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,mt(h),h):(l=a,(h=Un.get(d))&&(l=E({},a),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Yt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function mv(t,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function pv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function xw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function Vw(){}function kw(t,i,a){if(Rl===null)throw Error(s(475));var l=Rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qa(a.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Gc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=t.ownerDocument||t,a=fv(a),(h=Un.get(h))&&sm(a,h),d=d.createElement("link"),mt(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Yt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Gc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Lw(){if(Rl===null)throw Error(s(475));var t=Rl;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function om(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,i.forEach(Uw,t),Kc=null,Gc.call(t))}function Uw(t,i){if(!(i.state.loading&4)){var a=Kc.get(t);if(a)var l=a.get(null);else{a=new Map,Kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:G,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function jw(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function yv(t,i,a,l,h,d,v,T,R,F,Z,ee){return t=new jw(t,i,a,v,T,R,F,ee),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function _v(t){return t?(t=ba,t):ba}function vv(t,i,a,l,h,d){h=_v(h),l.context===null?l.context=h:l.pendingContext=h,l=Sr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(t,l,i),a!==null&&(wn(a,t,i),rl(a,t,i))}function Ev(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lm(t,i){Ev(t,i),(t=t.alternate)&&Ev(t,i)}function Tv(t){if(t.tag===13){var i=Ia(t,67108864);i!==null&&wn(i,t,67108864),lm(t,67108864)}}var Yc=!0;function zw(t,i,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=2,um(t,i,a,l)}finally{ue.p=d,W.T=h}}function qw(t,i,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=8,um(t,i,a,l)}finally{ue.p=d,W.T=h}}function um(t,i,a,l){if(Yc){var h=cm(l);if(h===null)Xd(t,i,l,Qc,a),Sv(t,l);else if(Hw(h,t,i,a,l))l.stopPropagation();else if(Sv(t,l),i&4&&-1<Bw.indexOf(t)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=qn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Wt(v);T.entanglements[1]|=R,v&=~R}di(d),(Ge&6)===0&&(Oc=bn()+500,Tl(0))}}break;case 13:T=Ia(d,2),T!==null&&wn(T,d,2),Mc(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function cm(t){return t=Nn(t),hm(t)}var Qc=null;function hm(t){if(Qc=null,t=wi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mf()){case bo:return 2;case ra:return 8;case is:case pf:return 32;case sa:return 268435456;default:return 32}default:return 32}}var fm=!1,Lr=null,Ur=null,jr=null,Nl=new Map,Dl=new Map,zr=[],Bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Jn(i),i!==null&&Tv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Hw(t,i,a,l,h){switch(i){case"focusin":return Lr=Ol(Lr,t,i,a,l,h),!0;case"dragenter":return Ur=Ol(Ur,t,i,a,l,h),!0;case"mouseover":return jr=Ol(jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,Ol(Nl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function wv(t){var i=wi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Mu(t.priority,function(){if(a.tag===13){var l=Sn();l=mr(l);var h=Ia(a,l);h!==null&&wn(h,a,l),lm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return i=Jn(a),i!==null&&Tv(i),t.blockedOn=a,!1;i.shift()}return!0}function Iv(t,i,a){$c(t)&&a.delete(i)}function Fw(){fm=!1,Lr!==null&&$c(Lr)&&(Lr=null),Ur!==null&&$c(Ur)&&(Ur=null),jr!==null&&$c(jr)&&(jr=null),Nl.forEach(Iv),Dl.forEach(Iv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fw)))}var Wc=null;function bv(t){Wc!==t&&(Wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function i(R){return Xc(R,t)}Lr!==null&&Xc(Lr,t),Ur!==null&&Xc(Ur,t),jr!==null&&Xc(jr,t),Nl.forEach(i),Dl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)wv(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[vt]||null;if(typeof d=="function")v||bv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[vt]||null)T=v.formAction;else if(hm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),bv(a)}}}function dm(t){this._internalRoot=t}Zc.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();vv(a,l,t,i,null,null)},Zc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;vv(t.current,2,null,t,null,null),Mc(),i[Rn]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=pr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,t),a===0&&wv(t)}};var Rv=e.version;if(Rv!=="19.1.0")throw Error(s(527,Rv,"19.1.0"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Gw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{ct=Jc.inject(Gw),Fe=Jc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Hy,d=Fy,v=Gy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=yv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Rn]=i.current,$d(t),new dm(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Hy,v=Fy,T=Gy,R=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=yv(t,1,!0,i,a??null,l,h,d,v,T,R,F),i.context=_v(null),a=i.current,l=Sn(),l=mr(l),h=Sr(l),h.callback=null,wr(a,h,l),a=l,i.current.lanes=a,Si(i,a),di(i),t[Rn]=i.current,$d(t),new Zc(i)},xl.version="19.1.0",xl}var Lv;function tI(){if(Lv)return gm.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=eI(),gm.exports}var nI=tI(),Vl={},Uv;function iI(){if(Uv)return Vl;Uv=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=f,Vl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,O){const V=new u,$=w.length;if($<2)return V;const L=(O==null?void 0:O.decode)||E;let H=0;do{const Q=w.indexOf("=",H);if(Q===-1)break;const G=w.indexOf(";",H),ne=G===-1?$:G;if(Q>ne){H=w.lastIndexOf(";",Q-1)+1;continue}const re=m(w,H,Q),he=p(w,Q,re),N=w.slice(re,he);if(V[N]===void 0){let I=m(w,Q+1,ne),b=p(w,ne,I);const M=L(w.slice(I,b));V[N]=M}H=ne+1}while(H<$);return V}function m(w,O,V){do{const $=w.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<V);return V}function p(w,O,V){for(;O>V;){const $=w.charCodeAt(--O);if($!==32&&$!==9)return O+1}return V}function g(w,O,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=$(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let H=w+"="+L;if(!V)return H;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);H+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);H+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);H+="; Path="+V.path}if(V.expires){if(!S(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);H+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(H+="; HttpOnly"),V.secure&&(H+="; Secure"),V.partitioned&&(H+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return H}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function S(w){return o.call(w)==="[object Date]"}return Vl}iI();var jv="popstate";function rI(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return km("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return aI(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sI(){return Math.random().toString(36).substring(2,10)}function zv(r,e){return{usr:r.state,key:r.key,idx:e}}function km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||s||sI()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function aI(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let L=E(),H=L==null?null:L-g;g=L,p&&p({action:m,location:$.location,delta:H})}function w(L,H){m="PUSH";let Q=km($.location,L,H);g=E()+1;let G=zv(Q,g),ne=$.createHref(Q);try{f.pushState(G,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ne)}u&&p&&p({action:m,location:$.location,delta:1})}function O(L,H){m="REPLACE";let Q=km($.location,L,H);g=E();let G=zv(Q,g),ne=$.createHref(Q);f.replaceState(G,"",ne),u&&p&&p({action:m,location:$.location,delta:0})}function V(L){return oI(L)}let $={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jv,S),p=L,()=>{o.removeEventListener(jv,S),p=null}},createHref(L){return e(o,L)},createURL:V,encodeLocation(L){let H=V(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:O,go(L){return f.go(L)}};return $}function oI(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function oT(r,e,n="/"){return lI(r,e,n,!1)}function lI(r,e,n,s){let o=typeof e=="string"?mo(e):e,u=rr(o.pathname||"/",n);if(u==null)return null;let f=lT(r);uI(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=EI(u);m=_I(f[p],g,s)}return m}function lT(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=er([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),lT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:gI(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of uT(u.path))o(u,f,p)}),e}function uT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=uT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function uI(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:yI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cI=/^:[\w-]+$/,hI=3,fI=2,dI=1,mI=10,pI=-2,qv=r=>r==="*";function gI(r,e){let n=r.split("/"),s=n.length;return n.some(qv)&&(s+=pI),e&&(s+=fI),n.filter(o=>!qv(o)).reduce((o,u)=>o+(cI.test(u)?hI:u===""?dI:mI),s)}function yI(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function _I(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:er([u,S.pathname]),pathnameBase:wI(er([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=er([u,S.pathnameBase]))}return f}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=vI(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let V=m[w]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[w];return S&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function vI(r,e=!1,n=!0){yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function EI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function TI(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:n?n.startsWith("/")?n:AI(n,e):e,search:II(s),hash:bI(o)}}function AI(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SI(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cT(r){let e=SI(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function hT(r,e,n,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=TI(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),wI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),II=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function RI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fT=["POST","PUT","PATCH","DELETE"];new Set(fT);var CI=["GET",...fT];new Set(CI);var po=B.createContext(null);po.displayName="DataRouter";var Vh=B.createContext(null);Vh.displayName="DataRouterState";var dT=B.createContext({isTransitioning:!1});dT.displayName="ViewTransition";var NI=B.createContext(new Map);NI.displayName="Fetchers";var DI=B.createContext(null);DI.displayName="Await";var Ei=B.createContext(null);Ei.displayName="Navigation";var hu=B.createContext(null);hu.displayName="Location";var Xn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var up=B.createContext(null);up.displayName="RouteError";function OI(r,{relative:e}={}){ot(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Ei),{hash:o,pathname:u,search:f}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fu(){return B.useContext(hu)!=null}function Xs(){return ot(fu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hu).location}var mT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pT(r){B.useContext(Ei).static||B.useLayoutEffect(r)}function cp(){let{isDataRoute:r}=B.useContext(Xn);return r?YI():PI()}function PI(){ot(fu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(po),{basename:e,navigator:n}=B.useContext(Ei),{matches:s}=B.useContext(Xn),{pathname:o}=Xs(),u=JSON.stringify(cT(s)),f=B.useRef(!1);return pT(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(yi(f.current,mT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=hT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var MI=B.createContext(null);function xI(r){let e=B.useContext(Xn).outlet;return e&&B.createElement(MI.Provider,{value:r},e)}function VI(){let{matches:r}=B.useContext(Xn),e=r[r.length-1];return e?e.params:{}}function du(r,{relative:e}={}){let{matches:n}=B.useContext(Xn),{pathname:s}=Xs(),o=JSON.stringify(cT(n));return B.useMemo(()=>hT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function kI(r,e){return gT(r,e)}function gT(r,e,n,s){var Q;ot(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(Ei),{matches:f}=B.useContext(Xn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let G=S&&S.path||"";yT(g,!S||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=Xs(),O;if(e){let G=typeof e=="string"?mo(e):e;ot(E==="/"||((Q=G.pathname)==null?void 0:Q.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),O=G}else O=w;let V=O.pathname||"/",$=V;if(E!=="/"){let G=E.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:oT(r,{pathname:$});yi(S||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),yi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=qI(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:er([E,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:er([E,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),f,n,s);return e&&H?B.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},H):H}function LI(){let r=KI(),e=RI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var UI=B.createElement(LI,null),jI=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Xn.Provider,{value:this.props.routeContext},B.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zI({routeContext:r,match:e,children:n}){let s=B.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Xn.Provider,{value:r},n)}function qI(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,w=!1,O=null,V=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||UI,f&&(m<0&&E===0?(yT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,V=null):m===E&&(w=!0,V=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),L=()=>{let H;return S?H=O:w?H=V:g.route.Component?H=B.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,B.createElement(zI,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:H})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?B.createElement(jI,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}function hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BI(r){let e=B.useContext(po);return ot(e,hp(r)),e}function HI(r){let e=B.useContext(Vh);return ot(e,hp(r)),e}function FI(r){let e=B.useContext(Xn);return ot(e,hp(r)),e}function fp(r){let e=FI(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function GI(){return fp("useRouteId")}function KI(){var s;let r=B.useContext(up),e=HI("useRouteError"),n=fp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function YI(){let{router:r}=BI("useNavigate"),e=fp("useNavigate"),n=B.useRef(!1);return pT(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{yi(n.current,mT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Bv={};function yT(r,e,n){!e&&!Bv[r]&&(Bv[r]=!0,yi(!1,n))}B.memo(QI);function QI({routes:r,future:e,state:n}){return gT(r,void 0,n,e)}function $I(r){return xI(r.context)}function Hr(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XI({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=mo(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:w="default"}=n,O=B.useMemo(()=>{let V=rr(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:S,key:w},navigationType:s}},[f,p,g,E,S,w,s]);return yi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(Ei.Provider,{value:m},B.createElement(hu.Provider,{children:e,value:O}))}function WI({children:r,location:e}){return kI(Lm(r),e)}function Lm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Lm(s.props.children,u));return}ot(s.type===Hr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),n.push(f)}),n}var oh="get",lh="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function ZI(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function JI(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function eb(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function tb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nb(r,e){return r.button===0&&(!e||e==="_self")&&!tb(r)}var eh=null;function ib(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var rb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!rb.has(r)?(yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function sb(r,e){let n,s,o,u,f;if(JI(r)){let m=r.getAttribute("action");s=m?rr(m,e):null,n=r.getAttribute("method")||oh,o=Tm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(ZI(r)||eb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||oh,o=Tm(r.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!ib()){let{name:g,type:E,value:S}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ab(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ob(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lb(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ab(u,n);return f.links?f.links():[]}return[]}));return fb(s.flat(1).filter(ob).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ub(r,e,{includeHydrateFallback:n}={}){return cb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cb(r){return[...new Set(r)]}function hb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function fb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(hb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var db=new Set([100,101,204,205]);function mb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&rr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _T(){let r=B.useContext(po);return dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pb(){let r=B.useContext(Vh);return dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mp=B.createContext(void 0);mp.displayName="FrameworkContext";function vT(){let r=B.useContext(mp);return dp(r,"You must render this element inside a <HydratedRouter> element"),r}function gb(r,e){let n=B.useContext(mp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=H=>{H.forEach(Q=>{f(Q.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[r]),B.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:kl(m,O),onBlur:kl(p,V),onMouseEnter:kl(g,O),onMouseLeave:kl(E,V),onTouchStart:kl(S,O)}]:[!1,w,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yb({page:r,...e}){let{router:n}=_T(),s=B.useMemo(()=>oT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(vb,{page:r,matches:s,...e}):null}function _b(r){let{manifest:e,routeModules:n}=vT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return lb(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function vb({page:r,matches:e,...n}){let s=Xs(),{manifest:o,routeModules:u}=vT(),{basename:f}=_T(),{loaderData:m,matches:p}=pb(),g=B.useMemo(()=>Hv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>Hv(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,$=!1;if(e.forEach(H=>{var G;let Q=o.routes[H.route.id];!Q||!Q.hasLoader||(!g.some(ne=>ne.route.id===H.route.id)&&H.route.id in m&&((G=u[H.route.id])!=null&&G.shouldRevalidate)||Q.hasClientLoader?$=!0:V.add(H.route.id))}),V.size===0)return[];let L=mb(r,f);return $&&V.size>0&&L.searchParams.set("_routes",e.filter(H=>V.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,e,r,u]),w=B.useMemo(()=>ub(E,o),[E,o]),O=_b(E);return B.createElement(B.Fragment,null,S.map(V=>B.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),w.map(V=>B.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:$})=>B.createElement("link",{key:V,...$})))}function Eb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ET&&(window.__reactRouterVersion="7.6.0")}catch{}function Tb({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=rI({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(XI,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var TT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...w},O){let{basename:V}=B.useContext(Ei),$=typeof g=="string"&&TT.test(g),L,H=!1;if(typeof g=="string"&&$&&(L=g,ET))try{let b=new URL(window.location.href),M=g.startsWith("//")?new URL(b.protocol+g):new URL(g),k=rr(M.pathname,V);M.origin===b.origin&&k!=null?g=k+M.search+M.hash:H=!0}catch{yi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=OI(g,{relative:o}),[G,ne,re]=gb(s,w),he=Ib(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function N(b){e&&e(b),b.defaultPrevented||he(b)}let I=B.createElement("a",{...w,...re,href:L||Q,onClick:H||u?e:N,ref:Eb(O,ne),target:p,"data-discover":!$&&n==="render"?"true":void 0});return G&&!$?B.createElement(B.Fragment,null,I,B.createElement(yb,{page:Q})):I});Qt.displayName="Link";var Ab=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=du(f,{relative:g.relative}),w=Xs(),O=B.useContext(Vh),{navigator:V,basename:$}=B.useContext(Ei),L=O!=null&&Db(S)&&m===!0,H=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,Q=w.pathname,G=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),G=G?G.toLowerCase():null,H=H.toLowerCase()),G&&$&&(G=rr(G,$)||G);const ne=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let re=Q===H||!o&&Q.startsWith(H)&&Q.charAt(ne)==="/",he=G!=null&&(G===H||!o&&G.startsWith(H)&&G.charAt(H.length)==="/"),N={isActive:re,isPending:he,isTransitioning:L},I=re?e:void 0,b;typeof s=="function"?b=s(N):b=[s,re?"active":null,he?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return B.createElement(Qt,{...g,"aria-current":I,className:b,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Ab.displayName="NavLink";var Sb=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=oh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...w},O)=>{let V=Cb(),$=Nb(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&TT.test(m),Q=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let ne=G.nativeEvent.submitter,re=(ne==null?void 0:ne.getAttribute("formmethod"))||f;V(ne||G.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:O,method:L,action:$,onSubmit:s?p:Q,...w,"data-discover":!H&&r==="render"?"true":void 0})});Sb.displayName="Form";function wb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(r){let e=B.useContext(po);return ot(e,wb(r)),e}function Ib(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=cp(),p=Xs(),g=du(r,{relative:u});return B.useCallback(E=>{if(nb(E,e)){E.preventDefault();let S=n!==void 0?n:Wl(p)===Wl(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var bb=0,Rb=()=>`__${String(++bb)}__`;function Cb(){let{router:r}=AT("useSubmit"),{basename:e}=B.useContext(Ei),n=GI();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=sb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Rb();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Nb(r,{relative:e}={}){let{basename:n}=B.useContext(Ei),s=B.useContext(Xn);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},f=Xs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Wl(u)}function Db(r,e={}){let n=B.useContext(dT);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=AT("useViewTransitionState"),o=du(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}[...db];var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ob=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(w=64)),s.push(n[E],n[S],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ST(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ob(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Pb;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),S!==64){const V=g<<6&192|S;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(r){const e=ST(r);return wT.encodeByteArray(e,!0)},_h=function(r){return Mb(r).replace(/\./g,"")},IT=function(r){try{return wT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=()=>xb().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof Fv>"u")return;const r=Fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IT(r[1]);return e&&JSON.parse(e)},Lh=()=>{try{return Vb()||kb()||Lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bT=r=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Ub=r=>{const e=bT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RT=()=>{var r;return(r=Lh())===null||r===void 0?void 0:r.config},CT=r=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Bb(){var r;const e=(r=Lh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Yb(){return!Bb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Xb,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Wb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new cr(o,m,s)}}function Wb(r,e){return r.replace(Zb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Zb=/\{\$([^}]+)}/g;function Jb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function vh(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Gv(u)&&Gv(f)){if(!vh(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function eR(r,e){const n=new tR(r,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(r){return r===Ls?void 0:r}function sR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const oR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},lR=xe.INFO,uR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},cR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=uR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const hR=(r,e)=>e.some(n=>r instanceof n);let Kv,Yv;function fR(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,Um=new WeakMap,DT=new WeakMap,Sm=new WeakMap,gp=new WeakMap;function mR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Gr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&NT.set(n,r)}).catch(()=>{}),gp.set(e,r),e}function pR(r){if(Um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Um.set(r,e)}let jm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gR(r){jm=r(jm)}function yR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(wm(this),e,...n);return DT.set(s,e.sort?e.sort():[e]),Gr(s)}:dR().includes(r)?function(...e){return r.apply(wm(this),e),Gr(NT.get(this))}:function(...e){return Gr(r.apply(wm(this),e))}}function _R(r){return typeof r=="function"?yR(r):(r instanceof IDBTransaction&&pR(r),hR(r,fR())?new Proxy(r,jm):r)}function Gr(r){if(r instanceof IDBRequest)return mR(r);if(Sm.has(r))return Sm.get(r);const e=_R(r);return e!==r&&(Sm.set(r,e),gp.set(e,r)),e}const wm=r=>gp.get(r);function vR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Gr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Gr(f.result),p.oldVersion,p.newVersion,Gr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],Im=new Map;function Qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,u),u}gR(r=>({...r,get:(e,n,s)=>Qv(e,n)||r.get(e,n,s),has:(e,n)=>!!Qv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",$v="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new pp("@firebase/app"),wR="@firebase/app-compat",IR="@firebase/analytics-compat",bR="@firebase/analytics",RR="@firebase/app-check-compat",CR="@firebase/app-check",NR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",PR="@firebase/data-connect",MR="@firebase/database-compat",xR="@firebase/functions",VR="@firebase/functions-compat",kR="@firebase/installations",LR="@firebase/installations-compat",UR="@firebase/messaging",jR="@firebase/messaging-compat",zR="@firebase/performance",qR="@firebase/performance-compat",BR="@firebase/remote-config",HR="@firebase/remote-config-compat",FR="@firebase/storage",GR="@firebase/storage-compat",KR="@firebase/firestore",YR="@firebase/vertexai-preview",QR="@firebase/firestore-compat",$R="firebase",XR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",WR={[zm]:"fire-core",[wR]:"fire-core-compat",[bR]:"fire-analytics",[IR]:"fire-analytics-compat",[CR]:"fire-app-check",[RR]:"fire-app-check-compat",[NR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[PR]:"fire-data-connect",[MR]:"fire-rtdb-compat",[xR]:"fire-fn",[VR]:"fire-fn-compat",[kR]:"fire-iid",[LR]:"fire-iid-compat",[UR]:"fire-fcm",[jR]:"fire-fcm-compat",[zR]:"fire-perf",[qR]:"fire-perf-compat",[BR]:"fire-rc",[HR]:"fire-rc-compat",[FR]:"fire-gcs",[GR]:"fire-gcs-compat",[KR]:"fire-fst",[QR]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,ZR=new Map,Bm=new Map;function Xv(r,e){try{r.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(Bm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,r);for(const n of Eh.values())Xv(n,r);for(const n of ZR.values())Xv(n,r);return!0}function yp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function _t(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new mu("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=XR;function OT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=RT()),!n)throw Kr.create("no-options");const u=Eh.get(o);if(u){if(vh(n,u.options)&&vh(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new aR(o);for(const p of Bm.values())f.addComponent(p);const m=new eC(n,s,f);return Eh.set(o,m),m}function PT(r=qm){const e=Eh.get(r);if(!e&&r===qm&&RT())return OT();if(!e)throw Kr.create("no-app",{appName:r});return e}function Yr(r,e,n){var s;let o=(s=WR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(m.join(" "));return}so(new Hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebase-heartbeat-database",nC=1,Zl="firebase-heartbeat-store";let bm=null;function MT(){return bm||(bm=vR(tC,nC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),bm}async function iC(r){try{const n=(await MT()).transaction(Zl),s=await n.objectStore(Zl).get(xT(r));return await n.done,s}catch(e){if(e instanceof cr)sr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function Wv(r,e){try{const s=(await MT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,xT(r)),await s.done}catch(n){if(n instanceof cr)sr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(s.message)}}}function xT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,sC=30*24*60*60*1e3;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Zv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=sC}),this._storage.overwrite(this._heartbeatsCache))}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zv(),{heartbeatsToSend:s,unsentEntries:o}=oC(this._heartbeatsCache.heartbeats),u=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return sr.warn(n),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function oC(r,e=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Jv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jv(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r){so(new Hs("platform-logger",e=>new AR(e),"PRIVATE")),so(new Hs("heartbeat",e=>new aC(e),"PRIVATE")),Yr(zm,$v,r),Yr(zm,$v,"esm2017"),Yr("fire-js","")}uC("");function _p(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={PHONE:"phone",TOTP:"totp"},hC={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fC={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},dC={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},mC={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gC=pC,kT=VT,LT=new mu("auth","Firebase",VT()),yC={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new pp("@firebase/auth");function _C(r,...e){Th.logLevel<=xe.WARN&&Th.warn(`Auth (${yo}): ${r}`,...e)}function uh(r,...e){Th.logLevel<=xe.ERROR&&Th.error(`Auth (${yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(r,...e){throw Ep(r,...e)}function cn(r,...e){return Ep(r,...e)}function vp(r,e,n){const s=Object.assign(Object.assign({},kT()),{[e]:n});return new mu("auth","Firebase",s).create(e,{appName:r.name})}function zt(r){return vp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _o(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&pn(r,"argument-error"),vp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LT.create(r,...e)}function oe(r,e,...n){if(!r)throw Ep(e,...n)}function mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function ar(r,e){r||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Tp(){return eE()==="http:"||eE()==="https:"}function eE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tp()||Fb()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=qb()||Gb()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r,e){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new pu(3e4,6e4);function nt(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function it(r,e,n,s,o={}){return jT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=go(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return Hb()||(g.referrerPolicy="no-referrer"),UT.fetch()(zT(r,r.config.apiHost,n,m),g)})}async function jT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},TC),e);try{const o=new wC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zl(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zl(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw zl(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vp(r,E,g);pn(r,E)}}catch(o){if(o instanceof cr)throw o;pn(r,"network-request-failed",{message:String(o)})}}async function hr(r,e,n,s,o={}){const u=await it(r,e,n,s,o);return"mfaPendingCredential"in u&&pn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function zT(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Ap(r.config,o):`${r.config.apiScheme}://${o}`}function SC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(cn(this.auth,"network-request-failed")),AC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zl(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=cn(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){return r!==void 0&&r.getResponse!==void 0}function nE(r){return r!==void 0&&r.enterprise!==void 0}class qT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r){return(await it(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function BT(r,e){return it(r,"GET","/v2/recaptchaConfig",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e){return it(r,"POST","/v1/accounts:delete",e)}async function RC(r,e){return it(r,"POST","/v1/accounts:update",e)}async function HT(r,e){return it(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r,e=!1){return Te(r).getIdToken(e)}async function FT(r,e=!1){const n=Te(r),s=await n.getIdToken(e),o=Uh(s);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Fl(Rm(o.auth_time)),issuedAtTime:Fl(Rm(o.iat)),expirationTime:Fl(Rm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Rm(r){return Number(r)*1e3}function Uh(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iE(r){const e=Uh(r);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function or(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&NC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(r){var e;const n=r.auth,s=await r.getIdToken(),o=await or(r,HT(n,{idToken:s}));oe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?KT(u.providerUserInfo):[],m=OC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Hm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function GT(r){const e=Te(r);await eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function KT(r){return r.map(e=>{var{providerId:n}=e,s=_p(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,e){const n=await jT(r,{},async()=>{const s=go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=zT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",UT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MC(r,e){return it(r,"POST","/v2/accounts:revokeToken",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=iE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await PC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new to;return s&&(oe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(oe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(oe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,e){oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await or(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FT(this,e)}reload(){return GT(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await eu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_t(this.auth.app))return Promise.reject(zt(this.auth));const e=await this.getIdToken();return await or(this,bC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:ne,isAnonymous:re,providerData:he,stsTokenManager:N}=n;oe(G&&N,e,"internal-error");const I=to.fromJSON(this.name,N);oe(typeof G=="string",e,"internal-error"),Br(S,e.name),Br(w,e.name),oe(typeof ne=="boolean",e,"internal-error"),oe(typeof re=="boolean",e,"internal-error"),Br(O,e.name),Br(V,e.name),Br($,e.name),Br(L,e.name),Br(H,e.name),Br(Q,e.name);const b=new Wi({uid:G,auth:e,email:w,emailVerified:ne,displayName:S,isAnonymous:re,photoURL:V,phoneNumber:O,tenantId:$,stsTokenManager:I,createdAt:H,lastLoginAt:Q});return he&&Array.isArray(he)&&(b.providerData=he.map(M=>Object.assign({},M))),L&&(b._redirectEventId=L),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new to;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await eu(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new to;m.updateFromIdToken(s);const p=new Wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function Zi(r){ar(r instanceof Function,"Expected a class definition");let e=rE.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,rE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YT.type="NONE";const Fm=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class no{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new no(Zi(Fm),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(Fm);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const S=Wi._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new no(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(e0(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function QT(r=sn()){return/firefox\//i.test(r)}function $T(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(r=sn()){return/crios\//i.test(r)}function WT(r=sn()){return/iemobile/i.test(r)}function ZT(r=sn()){return/android/i.test(r)}function JT(r=sn()){return/blackberry/i.test(r)}function e0(r=sn()){return/webos/i.test(r)}function Sp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xC(r=sn()){var e;return Sp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VC(){return Kb()&&document.documentMode===10}function t0(r=sn()){return Sp(r)||ZT(r)||e0(r)||JT(r)||/windows phone/i.test(r)||WT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r,e=[]){let n;switch(r){case"Browser":n=sE(sn());break;case"Worker":n=`${sE(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(r,e={}){return it(r,"GET","/v2/passwordPolicy",nt(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6;class jC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:UC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new kC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HT(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_t(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_t(this.app))return Promise.reject(zt(this));const n=e?Te(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _t(this.app)?Promise.reject(zt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _t(this.app)?Promise.reject(zt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LC(this),n=new jC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await MC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_C(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dt(r){return Te(r)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(r){gu=r}function wp(r){return gu.loadJS(r)}function BC(){return gu.recaptchaV2Script}function HC(){return gu.recaptchaEnterpriseScript}function FC(){return gu.gapiScript}function i0(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const GC="recaptcha-enterprise",KC="NO_RECAPTCHA";class r0{constructor(e){this.type=GC,this.auth=dt(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{BT(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new qT(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;nE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(KC)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&nE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HC();p.length!==0&&(p+=m),wp(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function oE(r,e,n,s=!1){const o=new r0(r);let u;try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},e);return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function tu(r,e,n,s){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await oE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await oE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}async function YC(r){const e=dt(r),n=await BT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new qT(n);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")&&new r0(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,e){const n=yp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(vh(u,e??{}))return o;pn(o,"already-initialized")}return n.initialize({options:e})}function QC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function a0(r,e,n){const s=dt(r);oe(s._canInitEmulator,s,"emulator-config-failed"),oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),u=o0(e),{host:f,port:m}=$C(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||XC()}function o0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $C(r){const e=o0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lE(f)}}}function lE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function XC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(r,e){return it(r,"POST","/v1/accounts:resetPassword",nt(r,e))}async function WC(r,e){return it(r,"POST","/v1/accounts:update",e)}async function ZC(r,e){return it(r,"POST","/v1/accounts:signUp",e)}async function JC(r,e){return it(r,"POST","/v1/accounts:update",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e){return hr(r,"POST","/v1/accounts:signInWithPassword",nt(r,e))}async function jh(r,e){return it(r,"POST","/v1/accounts:sendOobCode",nt(r,e))}async function tN(r,e){return jh(r,e)}async function nN(r,e){return jh(r,e)}async function iN(r,e){return jh(r,e)}async function rN(r,e){return jh(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(r,e){return hr(r,"POST","/v1/accounts:signInWithEmailLink",nt(r,e))}async function aN(r,e){return hr(r,"POST","/v1/accounts:signInWithEmailLink",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends vo{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ao(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ao(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tu(e,n,"signInWithPassword",eN);case"emailLink":return sN(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tu(e,s,"signUpPassword",ZC);case"emailLink":return aN(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tr(r,e){return hr(r,"POST","/v1/accounts:signInWithIdp",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="http://localhost";class _i extends vo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=_p(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new _i(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return tr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,tr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tr(e,n)}buildRequest(){const e={requestUri:oN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=go(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(r,e){return it(r,"POST","/v1/accounts:sendVerificationCode",nt(r,e))}async function uN(r,e){return hr(r,"POST","/v1/accounts:signInWithPhoneNumber",nt(r,e))}async function cN(r,e){const n=await hr(r,"POST","/v1/accounts:signInWithPhoneNumber",nt(r,e));if(n.temporaryProof)throw zl(r,"account-exists-with-different-credential",n);return n}const hN={USER_NOT_FOUND:"user-not-found"};async function fN(r,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return hr(r,"POST","/v1/accounts:signInWithPhoneNumber",nt(r,n),hN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends vo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Qr({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Qr({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return uN(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return cN(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return fN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:u}=e;return!s&&!n&&!o&&!u?null:new Qr({verificationId:n,verificationCode:s,phoneNumber:o,temporaryProof:u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mN(r){const e=Ul(jl(r)).link,n=e?Ul(jl(e)).deep_link_id:null,s=Ul(jl(r)).deep_link_id;return(s?Ul(jl(s)).link:null)||s||n||e||r}class Eo{constructor(e){var n,s,o,u,f,m;const p=Ul(jl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=dN((o=p.mode)!==null&&o!==void 0?o:null);oe(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=mN(e);try{return new Eo(n)}catch{return null}}}function pN(r){return Eo.parseLink(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.providerId=Zr.PROVIDER_ID}static credential(e,n){return ao._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Eo.parseLink(n);return oe(s,"argument-error"),ao._fromEmailAndCode(e,s.code,s.tenantId)}}Zr.PROVIDER_ID="password";Zr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends fr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gl extends To{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return oe("providerId"in n&&"signInMethod"in n,"argument-error"),_i._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return oe(e.idToken||e.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Gl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:u,nonce:f,providerId:m}=e;if(!s&&!o&&!n&&!u||!m)return null;try{return new Gl(m)._credential({idToken:n,accessToken:s,nonce:f,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends To{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _i._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends To{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class nu extends vo{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return tr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,tr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,pendingToken:u}=n;return!s||!o||!u||s!==o?null:new nu(s,u)}static _create(e,n){return new nu(e,n)}buildRequest(){return{requestUri:gN,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="saml.";class Ah extends fr{constructor(e){oe(e.startsWith(yN),"argument-error"),super(e)}static credentialFromResult(e){return Ah.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ah.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=nu.fromJSON(e);return oe(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:s}=e;if(!n||!s)return null;try{return nu._create(s,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends To{constructor(){super("twitter.com")}static credential(e,n){return _i._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(r,e){return hr(r,"POST","/v1/accounts:signUp",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wi._fromIdTokenResponse(e,s,o),f=uE(s);return new zn({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=uE(s);return new zn({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function uE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(r){var e;if(_t(r.app))return Promise.reject(zt(r));const n=dt(r);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new zn({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await u0(n,{returnSecureToken:!0}),o=await zn._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends cr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Sh(e,n,s,o)}}function c0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,e,s):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e){const n=Te(r);await zh(!0,n,e);const{providerUserInfo:s}=await RC(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),o=h0(s||[]);return n.providerData=n.providerData.filter(u=>o.has(u.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ip(r,e,n=!1){const s=await or(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return zn._forOperation(r,"link",s)}async function zh(r,e,n){await eu(e);const s=h0(e.providerData),o=r===!1?"provider-already-linked":"no-such-provider";oe(s.has(n)===r,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(r,e,n=!1){const{auth:s}=r;if(_t(s.app))return Promise.reject(zt(s));const o="reauthenticate";try{const u=await or(r,c0(s,o,e,r),n);oe(u.idToken,s,"internal-error");const f=Uh(u.idToken);oe(f,s,"internal-error");const{sub:m}=f;return oe(r.uid===m,s,"user-mismatch"),zn._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&pn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(r,e,n=!1){if(_t(r.app))return Promise.reject(zt(r));const s="signIn",o=await c0(r,s,e),u=await zn._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function qh(r,e){return d0(dt(r),e)}async function m0(r,e){const n=Te(r);return await zh(!1,n,e.providerId),Ip(n,e)}async function p0(r,e){return f0(Te(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(r,e){return hr(r,"POST","/v1/accounts:signInWithCustomToken",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e){if(_t(r.app))return Promise.reject(zt(r));const n=dt(r),s=await EN(n,{token:e,returnSecureToken:!0}),o=await zn._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?bp._fromServerResponse(e,n):"totpInfo"in n?Rp._fromServerResponse(e,n):pn(e,"internal-error")}}class bp extends yu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new bp(n)}}class Rp extends yu{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Rp(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r,e,n){var s;oe(((s=n.url)===null||s===void 0?void 0:s.length)>0,r,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,r,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(r){const e=dt(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AN(r,e,n){const s=dt(r),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Bh(s,o,n),await tu(s,o,"getOobCode",nN)}async function SN(r,e,n){await l0(Te(r),{oobCode:e,newPassword:n}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cp(r),s})}async function wN(r,e){await JC(Te(r),{oobCode:e})}async function g0(r,e){const n=Te(r),s=await l0(n,{oobCode:e}),o=s.requestType;switch(oe(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(s.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(s.mfaInfo,n,"internal-error");default:oe(s.email,n,"internal-error")}let u=null;return s.mfaInfo&&(u=yu._fromServerResponse(dt(n),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:u},operation:o}}async function IN(r,e){const{data:n}=await g0(Te(r),e);return n.email}async function y0(r,e,n){if(_t(r.app))return Promise.reject(zt(r));const s=dt(r),f=await tu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u0).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Cp(r),p}),m=await zn._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function _0(r,e,n){return _t(r.app)?Promise.reject(zt(r)):qh(Te(r),Zr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cp(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,e,n){const s=dt(r),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function u(f,m){oe(m.handleCodeInApp,s,"argument-error"),m&&Bh(s,f,m)}u(o,n),await tu(s,o,"getOobCode",iN)}function RN(r,e){const n=Eo.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function CN(r,e,n){if(_t(r.app))return Promise.reject(zt(r));const s=Te(r),o=Zr.credentialWithLink(e,n||Jl());return oe(o._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),qh(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(r,e){return it(r,"POST","/v1/accounts:createAuthUri",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e){const n=Tp()?Jl():"http://localhost",s={identifier:e,continueUri:n},{signinMethods:o}=await NN(Te(r),s);return o||[]}async function ON(r,e){const n=Te(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()};e&&Bh(n.auth,o,e);const{email:u}=await tN(n.auth,o);u!==r.email&&await r.reload()}async function PN(r,e,n){const s=Te(r),u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await r.getIdToken(),newEmail:e};n&&Bh(s.auth,u,n);const{email:f}=await rN(s.auth,u);f!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(r,e){return it(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Te(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await or(s,MN(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function VN(r,e){const n=Te(r);return _t(n.auth.app)?Promise.reject(zt(n.auth)):v0(n,e,null)}function kN(r,e){return v0(Te(r),null,e)}async function v0(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await or(r,WC(s,u));await r._updateTokensIfNecessary(f,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(r){var e,n;if(!r)return null;const{providerId:s}=r,o=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},u=r.isNewUser||r.kind==="identitytoolkit#SignupNewUserResponse";if(!s&&(r!=null&&r.idToken)){const f=(n=(e=Uh(r.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(f){const m=f!=="anonymous"&&f!=="custom"?f:null;return new io(u,m)}}if(!s)return null;switch(s){case"facebook.com":return new UN(u,o);case"github.com":return new jN(u,o);case"google.com":return new zN(u,o);case"twitter.com":return new qN(u,o,r.screenName||null);case"custom":case"anonymous":return new io(u,null);default:return new io(u,s,o)}}class io{constructor(e,n,s={}){this.isNewUser=e,this.providerId=n,this.profile=s}}class E0 extends io{constructor(e,n,s,o){super(e,n,s),this.username=o}}class UN extends io{constructor(e,n){super(e,"facebook.com",n)}}class jN extends E0{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class zN extends io{constructor(e,n){super(e,"google.com",n)}}class qN extends E0{constructor(e,n,s){super(e,"twitter.com",n,s)}}function BN(r){const{user:e,_tokenResponse:n}=r;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:LN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r,e){return Te(r).setPersistence(e)}function FN(r){return YC(r)}async function GN(r,e){return dt(r).validatePassword(e)}function T0(r,e,n,s){return Te(r).onIdTokenChanged(e,n,s)}function A0(r,e,n){return Te(r).beforeAuthStateChanged(e,n)}function Hh(r,e,n,s){return Te(r).onAuthStateChanged(e,n,s)}function KN(r){Te(r).useDeviceLanguage()}function YN(r,e){return Te(r).updateCurrentUser(e)}function Np(r){return Te(r).signOut()}function QN(r,e){return dt(r).revokeAccessToken(e)}async function $N(r){return Te(r).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,s){this.type=e,this.credential=n,this.user=s}static _fromIdtoken(e,n){return new Us("enroll",e,n)}static _fromMfaPendingCredential(e){return new Us("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,s;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Us._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((s=e.multiFactorSession)===null||s===void 0)&&s.idToken)return Us._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,s){this.session=e,this.hints=n,this.signInResolver=s}static _fromError(e,n){const s=dt(e),o=n.customData._serverResponse,u=(o.mfaInfo||[]).map(m=>yu._fromServerResponse(s,m));oe(o.mfaPendingCredential,s,"internal-error");const f=Us._fromMfaPendingCredential(o.mfaPendingCredential);return new Dp(f,u,async m=>{const p=await m._process(s,f);delete o.mfaInfo,delete o.mfaPendingCredential;const g=Object.assign(Object.assign({},o),{idToken:p.idToken,refreshToken:p.refreshToken});switch(n.operationType){case"signIn":const E=await zn._fromIdTokenResponse(s,n.operationType,g);return await s._updateCurrentUser(E.user),E;case"reauthenticate":return oe(n.user,s,"internal-error"),zn._forOperation(n.user,n.operationType,g);default:pn(s,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function XN(r,e){var n;const s=Te(r),o=e;return oe(e.customData.operationType,s,"argument-error"),oe((n=o.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,s,"argument-error"),Dp._fromError(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r,e){return it(r,"POST","/v2/accounts/mfaEnrollment:start",nt(r,e))}function ZN(r,e){return it(r,"POST","/v2/accounts/mfaEnrollment:finalize",nt(r,e))}function JN(r,e){return it(r,"POST","/v2/accounts/mfaEnrollment:start",nt(r,e))}function e1(r,e){return it(r,"POST","/v2/accounts/mfaEnrollment:finalize",nt(r,e))}function t1(r,e){return it(r,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(r,e))}class Op{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(s=>yu._fromServerResponse(e.auth,s)))})}static _fromUser(e){return new Op(e)}async getSession(){return Us._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const s=e,o=await this.getSession(),u=await or(this.user,s._process(this.user.auth,o,n));return await this.user._updateTokensIfNecessary(u),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,s=await this.user.getIdToken();try{const o=await or(this.user,t1(this.user.auth,{idToken:s,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:u})=>u!==n),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const Cm=new WeakMap;function n1(r){const e=Te(r);return Cm.has(e)||Cm.set(e,Op._fromUser(e)),Cm.get(e)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=1e3,r1=10;class w0 extends S0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);VC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,r1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},i1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w0.type="LOCAL";const I0=w0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends S0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b0.type="SESSION";const Pp=b0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await s1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Gh("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return window}function o1(r){wt().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){return typeof wt().WorkerGlobalScope<"u"&&typeof wt().importScripts=="function"}async function l1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function c1(){return Mp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firebaseLocalStorageDb",h1=1,Ih="firebaseLocalStorage",C0="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function f1(){const r=indexedDB.deleteDatabase(R0);return new _u(r).toPromise()}function Gm(){const r=indexedDB.open(R0,h1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:C0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await f1(),e(await Gm()))})})}async function cE(r,e,n){const s=Kh(r,!0).put({[C0]:e,value:n});return new _u(s).toPromise()}async function d1(r,e){const n=Kh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function hE(r,e){const n=Kh(r,!0).delete(e);return new _u(n).toPromise()}const m1=800,p1=3;class N0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>p1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(c1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await l1(),!this.activeServiceWorker)return;this.sender=new a1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await cE(e,wh,"1"),await hE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>d1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N0.type="LOCAL";const D0=N0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r,e){return it(r,"POST","/v2/accounts/mfaSignIn:start",nt(r,e))}function y1(r,e){return it(r,"POST","/v2/accounts/mfaSignIn:finalize",nt(r,e))}function _1(r,e){return it(r,"POST","/v2/accounts/mfaSignIn:finalize",nt(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=500,E1=6e4,th=1e12;class T1{constructor(e){this.auth=e,this.counter=th,this._widgets=new Map}render(e,n){const s=this.counter;return this._widgets.set(s,new A1(e,this.auth.name,n||{})),this.counter++,s}reset(e){var n;const s=e||th;(n=this._widgets.get(s))===null||n===void 0||n.delete(),this._widgets.delete(s)}getResponse(e){var n;const s=e||th;return((n=this._widgets.get(s))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const s=e||th;return(n=this._widgets.get(s))===null||n===void 0||n.execute(),""}}class A1{constructor(e,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;oe(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=S1(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},E1)},v1))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function S1(r){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<r;s++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=i0("rcb"),w1=new pu(3e4,6e4);class I1{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=wt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return oe(b1(n),e,"argument-error"),this.shouldResolveImmediately(n)&&tE(wt().grecaptcha)?Promise.resolve(wt().grecaptcha):new Promise((s,o)=>{const u=wt().setTimeout(()=>{o(cn(e,"network-request-failed"))},w1.get());wt()[Nm]=()=>{wt().clearTimeout(u),delete wt()[Nm];const m=wt().grecaptcha;if(!m||!tE(m)){o(cn(e,"internal-error"));return}const p=m.render;m.render=(g,E)=>{const S=p(g,E);return this.counter++,S},this.hostLanguage=n,s(m)};const f=`${BC()}?${go({onload:Nm,render:"explicit",hl:n})}`;wp(f).catch(()=>{clearTimeout(u),o(cn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=wt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function b1(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class R1{async load(e){return new T1(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="recaptcha",C1={theme:"light",type:"image"};class N1{constructor(e,n,s=Object.assign({},C1)){this.parameters=s,this.type=O0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(e),this.isInvisible=this.parameters.size==="invisible",oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;oe(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R1:new I1,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(e);return s||new Promise(o=>{const u=f=>{f&&(this.tokenChangeListeners.delete(u),o(f))};this.tokenChangeListeners.add(u),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof e=="function")e(n);else if(typeof e=="string"){const s=wt()[e];typeof s=="function"&&s(n)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){oe(Tp()&&!Mp(),this.auth,"internal-error"),await D1(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await IC(this.auth);oe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function D1(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Qr._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function O1(r,e,n){if(_t(r.app))return Promise.reject(zt(r));const s=dt(r),o=await Yh(s,e,Te(n));return new xp(o,u=>qh(s,u))}async function P1(r,e,n){const s=Te(r);await zh(!1,s,"phone");const o=await Yh(s.auth,e,Te(n));return new xp(o,u=>m0(s,u))}async function M1(r,e,n){const s=Te(r);if(_t(s.auth.app))return Promise.reject(zt(s.auth));const o=await Yh(s.auth,e,Te(n));return new xp(o,u=>p0(s,u))}async function Yh(r,e,n){var s;const o=await n.verify();try{oe(typeof o=="string",r,"argument-error"),oe(n.type===O0,r,"argument-error");let u;if(typeof e=="string"?u={phoneNumber:e}:u=e,"session"in u){const f=u.session;if("phoneNumber"in u)return oe(f.type==="enroll",r,"internal-error"),(await WN(r,{idToken:f.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{oe(f.type==="signin",r,"internal-error");const m=((s=u.multiFactorHint)===null||s===void 0?void 0:s.uid)||u.multiFactorUid;return oe(m,r,"missing-multi-factor-info"),(await g1(r,{mfaPendingCredential:f.credential,mfaEnrollmentId:m,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:f}=await lN(r,{phoneNumber:u.phoneNumber,recaptchaToken:o});return f}}finally{n._reset()}}async function x1(r,e){const n=Te(r);if(_t(n.auth.app))return Promise.reject(zt(n.auth));await Ip(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.providerId=qs.PROVIDER_ID,this.auth=dt(e)}verifyPhoneNumber(e,n){return Yh(this.auth,e,Te(n))}static credential(e,n){return Qr._fromVerification(e,n)}static credentialFromResult(e){const n=e;return qs.credentialFromTaggedObject(n)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:s}=e;return n&&s?Qr._fromTokenResponse(n,s):null}}qs.PROVIDER_ID="phone";qs.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(r,e){return e?Zi(e):(oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends vo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V1(r){return d0(r.auth,new Vp(r),r.bypassAuthState)}function k1(r){const{auth:e,user:n}=r;return oe(n,e,"internal-error"),f0(n,new Vp(r),r.bypassAuthState)}async function L1(r){const{auth:e,user:n}=r;return oe(n,e,"internal-error"),Ip(n,new Vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V1;case"linkViaPopup":case"linkViaRedirect":return L1;case"reauthViaPopup":case"reauthViaRedirect":return k1;default:pn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new pu(2e3,1e4);async function j1(r,e,n){if(_t(r.app))return Promise.reject(cn(r,"operation-not-supported-in-this-environment"));const s=dt(r);_o(r,e,fr);const o=Ws(s,n);return new Ji(s,"signInViaPopup",e,o).executeNotNull()}async function z1(r,e,n){const s=Te(r);if(_t(s.auth.app))return Promise.reject(cn(s.auth,"operation-not-supported-in-this-environment"));_o(s.auth,e,fr);const o=Ws(s.auth,n);return new Ji(s.auth,"reauthViaPopup",e,o,s).executeNotNull()}async function q1(r,e,n){const s=Te(r);_o(s.auth,e,fr);const o=Ws(s.auth,n);return new Ji(s.auth,"linkViaPopup",e,o,s).executeNotNull()}class Ji extends P0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Gh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U1.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="pendingRedirect",hh=new Map;class H1 extends P0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await F1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F1(r,e){const n=x0(e),s=M0(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function kp(r,e){return M0(r)._set(x0(e),"true")}function G1(r,e){hh.set(r._key(),e)}function M0(r){return Zi(r._redirectPersistence)}function x0(r){return ch(B1,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r,e,n){return Y1(r,e,n)}async function Y1(r,e,n){if(_t(r.app))return Promise.reject(zt(r));const s=dt(r);_o(r,e,fr),await s._initializationPromise;const o=Ws(s,n);return await kp(o,s),o._openRedirect(s,e,"signInViaRedirect")}function Q1(r,e,n){return $1(r,e,n)}async function $1(r,e,n){const s=Te(r);if(_o(s.auth,e,fr),_t(s.auth.app))return Promise.reject(zt(s.auth));await s.auth._initializationPromise;const o=Ws(s.auth,n);await kp(o,s.auth);const u=await k0(s);return o._openRedirect(s.auth,e,"reauthViaRedirect",u)}function X1(r,e,n){return W1(r,e,n)}async function W1(r,e,n){const s=Te(r);_o(s.auth,e,fr),await s.auth._initializationPromise;const o=Ws(s.auth,n);await zh(!1,s,e.providerId),await kp(o,s.auth);const u=await k0(s);return o._openRedirect(s.auth,e,"linkViaRedirect",u)}async function Z1(r,e){return await dt(r)._initializationPromise,V0(r,e,!1)}async function V0(r,e,n=!1){if(_t(r.app))return Promise.reject(zt(r));const s=dt(r),o=Ws(s,e),f=await new H1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}async function k0(r){const e=Gh(`${r.uid}:::`);return r._redirectEventId=e,await r.auth._setRedirectUser(r),await r.auth._persistUserIfCurrent(r),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=10*60*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!L0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J1&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function L0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(r,e={}){return it(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rD=/^https?/;async function sD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await nD(r);for(const n of e)try{if(aD(n))return}catch{}pn(r,"unauthorized-domain")}function aD(r){const e=Jl(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rD.test(n))return!1;if(iD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new pu(3e4,6e4);function dE(){const r=wt().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function lD(r){return new Promise((e,n)=>{var s,o,u;function f(){dE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dE(),n(cn(r,"network-request-failed"))},timeout:oD.get()})}if(!((o=(s=wt().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=wt().gapi)===null||u===void 0)&&u.load)f();else{const m=i0("iframefcb");return wt()[m]=()=>{gapi.load?f():n(cn(r,"network-request-failed"))},wp(`${FC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function uD(r){return fh=fh||lD(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new pu(5e3,15e3),hD="__/auth/iframe",fD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pD(r){const e=r.config;oe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ap(e,fD):`https://${r.config.authDomain}/${hD}`,s={apiKey:e.apiKey,appName:r.name,v:yo},o=mD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${go(s).slice(1)}`}async function gD(r){const e=await uD(r),n=wt().gapi;return oe(n,r,"internal-error"),e.open({where:document.body,url:pD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=cn(r,"network-request-failed"),m=wt().setTimeout(()=>{u(f)},cD.get());function p(){wt().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_D=500,vD=600,ED="_blank",TD="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AD(r,e,n,s=_D,o=vD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},yD),{width:s.toString(),height:o.toString(),top:u,left:f}),g=sn().toLowerCase();n&&(m=XT(g)?ED:n),QT(g)&&(e=e||TD,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[O,V])=>`${w}${O}=${V},`,"");if(xC(g)&&m!=="_self")return SD(e||"",m),new mE(null);const S=window.open(e||"",m,E);oe(S,r,"popup-blocked");try{S.focus()}catch{}return new mE(S)}function SD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="__/auth/handler",ID="emulator/auth/handler",bD=encodeURIComponent("fac");async function pE(r,e,n,s,o,u){oe(r.config.authDomain,r,"auth-domain-config-required"),oe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof fr){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Jb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof To){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${bD}=${encodeURIComponent(p)}`:"";return`${RD(r)}?${go(m).slice(1)}${g}`}function RD({config:r}){return r.emulator?Ap(r,ID):`https://${r.authDomain}/${wD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class CD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pp,this._completeRedirectFn=V0,this._overrideRedirectResult=G1}async _openPopup(e,n,s,o){var u;ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await pE(e,n,s,Jl(),o);return AD(e,f,Gh())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await pE(e,n,s,Jl(),o);return o1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await gD(e),s=new eD(e);return n.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];f!==void 0&&n(!!f),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||$T()||Sp()}}const U0=CD;class j0{constructor(e){this.factorId=e}_process(e,n,s){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,s);case"signin":return this._finalizeSignIn(e,n.credential);default:return mi("unexpected MultiFactorSessionType")}}}class Lp extends j0{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Lp(e)}_finalizeEnroll(e,n,s){return ZN(e,{idToken:n,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return y1(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class z0{constructor(){}static assertion(e){return Lp._fromCredential(e)}}z0.FACTOR_ID="phone";class q0{static assertionForEnrollment(e,n){return iu._fromSecret(e,n)}static assertionForSignIn(e,n){return iu._fromEnrollmentId(e,n)}static async generateSecret(e){var n;const s=e;oe(typeof((n=s.user)===null||n===void 0?void 0:n.auth)<"u","internal-error");const o=await JN(s.user.auth,{idToken:s.credential,totpEnrollmentInfo:{}});return Qh._fromStartTotpMfaEnrollmentResponse(o,s.user.auth)}}q0.FACTOR_ID="totp";class iu extends j0{constructor(e,n,s){super("totp"),this.otp=e,this.enrollmentId=n,this.secret=s}static _fromSecret(e,n){return new iu(n,void 0,e)}static _fromEnrollmentId(e,n){return new iu(n,e)}async _finalizeEnroll(e,n,s){return oe(typeof this.secret<"u",e,"argument-error"),e1(e,{idToken:n,displayName:s,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,n){oe(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const s={verificationCode:this.otp};return _1(e,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:s})}}class Qh{constructor(e,n,s,o,u,f,m){this.sessionInfo=f,this.auth=m,this.secretKey=e,this.hashingAlgorithm=n,this.codeLength=s,this.codeIntervalSeconds=o,this.enrollmentCompletionDeadline=u}static _fromStartTotpMfaEnrollmentResponse(e,n){return new Qh(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,n){var s;let o=!1;return(nh(e)||nh(n))&&(o=!0),o&&(nh(e)&&(e=((s=this.auth.currentUser)===null||s===void 0?void 0:s.email)||"unknownuser"),nh(n)&&(n=this.auth.name)),`otpauth://totp/${n}:${e}?secret=${this.secretKey}&issuer=${n}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function nh(r){return typeof r>"u"||(r==null?void 0:r.length)===0}var gE="@firebase/auth",yE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(r){so(new Hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;oe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(r)},g=new zC(s,o,u,p);return QC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Hs("auth-internal",e=>{const n=dt(e.getProvider("auth").getImmediate());return(s=>new ND(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(gE,yE,DD(r)),Yr(gE,yE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=5*60,MD=CT("authIdTokenMaxAge")||PD;let _E=null;const xD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MD)return;const o=n==null?void 0:n.token;_E!==o&&(_E=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zs(r=PT()){const e=yp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=s0(r,{popupRedirectResolver:U0,persistence:[D0,I0,Pp]}),s=CT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=xD(u.toString());A0(n,f,()=>f(n.currentUser)),T0(n,m=>f(m))}}const o=bT("auth");return o&&a0(n,`http://${o}`),n}function VD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}qC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=cn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",VD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");const kD=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:mC,ActionCodeURL:Eo,AuthCredential:vo,AuthErrorCodes:yC,EmailAuthCredential:ao,EmailAuthProvider:Zr,FacebookAuthProvider:Yi,FactorId:cC,GithubAuthProvider:$i,GoogleAuthProvider:Qi,OAuthCredential:_i,OAuthProvider:Gl,OperationType:dC,PhoneAuthCredential:Qr,PhoneAuthProvider:qs,PhoneMultiFactorGenerator:z0,ProviderId:hC,RecaptchaVerifier:N1,SAMLAuthProvider:Ah,SignInMethod:fC,TotpMultiFactorGenerator:q0,TotpSecret:Qh,TwitterAuthProvider:Xi,applyActionCode:wN,beforeAuthStateChanged:A0,browserLocalPersistence:I0,browserPopupRedirectResolver:U0,browserSessionPersistence:Pp,checkActionCode:g0,confirmPasswordReset:SN,connectAuthEmulator:a0,createUserWithEmailAndPassword:y0,debugErrorMap:gC,deleteUser:$N,fetchSignInMethodsForEmail:DN,getAdditionalUserInfo:BN,getAuth:Zs,getIdToken:CC,getIdTokenResult:FT,getMultiFactorResolver:XN,getRedirectResult:Z1,inMemoryPersistence:Fm,indexedDBLocalPersistence:D0,initializeAuth:s0,initializeRecaptchaConfig:FN,isSignInWithEmailLink:RN,linkWithCredential:m0,linkWithPhoneNumber:P1,linkWithPopup:q1,linkWithRedirect:X1,multiFactor:n1,onAuthStateChanged:Hh,onIdTokenChanged:T0,parseActionCodeURL:pN,prodErrorMap:kT,reauthenticateWithCredential:p0,reauthenticateWithPhoneNumber:M1,reauthenticateWithPopup:z1,reauthenticateWithRedirect:Q1,reload:GT,revokeAccessToken:QN,sendEmailVerification:ON,sendPasswordResetEmail:AN,sendSignInLinkToEmail:bN,setPersistence:HN,signInAnonymously:_N,signInWithCredential:qh,signInWithCustomToken:TN,signInWithEmailAndPassword:_0,signInWithEmailLink:CN,signInWithPhoneNumber:O1,signInWithPopup:j1,signInWithRedirect:K1,signOut:Np,unlink:vN,updateCurrentUser:YN,updateEmail:VN,updatePassword:kN,updatePhoneNumber:x1,updateProfile:xN,useDeviceLanguage:KN,validatePassword:GN,verifyBeforeUpdateEmail:PN,verifyPasswordResetCode:IN},Symbol.toStringTag,{value:"Module"}));var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,B0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function b(){}b.prototype=I.prototype,N.D=I.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(M,k,j){for(var C=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)C[Bt-2]=arguments[Bt];return I.prototype[k].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,b){b||(b=0);var M=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)M[k]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(k=0;16>k;++k)M[k]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=N.g[0],b=N.g[1],k=N.g[2];var j=N.g[3],C=I+(j^b&(k^j))+M[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=j+(k^I&(b^k))+M[1]+3905402710&4294967295,j=I+(C<<12&4294967295|C>>>20),C=k+(b^j&(I^b))+M[2]+606105819&4294967295,k=j+(C<<17&4294967295|C>>>15),C=b+(I^k&(j^I))+M[3]+3250441966&4294967295,b=k+(C<<22&4294967295|C>>>10),C=I+(j^b&(k^j))+M[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=j+(k^I&(b^k))+M[5]+1200080426&4294967295,j=I+(C<<12&4294967295|C>>>20),C=k+(b^j&(I^b))+M[6]+2821735955&4294967295,k=j+(C<<17&4294967295|C>>>15),C=b+(I^k&(j^I))+M[7]+4249261313&4294967295,b=k+(C<<22&4294967295|C>>>10),C=I+(j^b&(k^j))+M[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=j+(k^I&(b^k))+M[9]+2336552879&4294967295,j=I+(C<<12&4294967295|C>>>20),C=k+(b^j&(I^b))+M[10]+4294925233&4294967295,k=j+(C<<17&4294967295|C>>>15),C=b+(I^k&(j^I))+M[11]+2304563134&4294967295,b=k+(C<<22&4294967295|C>>>10),C=I+(j^b&(k^j))+M[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=j+(k^I&(b^k))+M[13]+4254626195&4294967295,j=I+(C<<12&4294967295|C>>>20),C=k+(b^j&(I^b))+M[14]+2792965006&4294967295,k=j+(C<<17&4294967295|C>>>15),C=b+(I^k&(j^I))+M[15]+1236535329&4294967295,b=k+(C<<22&4294967295|C>>>10),C=I+(k^j&(b^k))+M[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^k&(I^b))+M[6]+3225465664&4294967295,j=I+(C<<9&4294967295|C>>>23),C=k+(I^b&(j^I))+M[11]+643717713&4294967295,k=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(k^j))+M[0]+3921069994&4294967295,b=k+(C<<20&4294967295|C>>>12),C=I+(k^j&(b^k))+M[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^k&(I^b))+M[10]+38016083&4294967295,j=I+(C<<9&4294967295|C>>>23),C=k+(I^b&(j^I))+M[15]+3634488961&4294967295,k=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(k^j))+M[4]+3889429448&4294967295,b=k+(C<<20&4294967295|C>>>12),C=I+(k^j&(b^k))+M[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^k&(I^b))+M[14]+3275163606&4294967295,j=I+(C<<9&4294967295|C>>>23),C=k+(I^b&(j^I))+M[3]+4107603335&4294967295,k=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(k^j))+M[8]+1163531501&4294967295,b=k+(C<<20&4294967295|C>>>12),C=I+(k^j&(b^k))+M[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=j+(b^k&(I^b))+M[2]+4243563512&4294967295,j=I+(C<<9&4294967295|C>>>23),C=k+(I^b&(j^I))+M[7]+1735328473&4294967295,k=j+(C<<14&4294967295|C>>>18),C=b+(j^I&(k^j))+M[12]+2368359562&4294967295,b=k+(C<<20&4294967295|C>>>12),C=I+(b^k^j)+M[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^k)+M[8]+2272392833&4294967295,j=I+(C<<11&4294967295|C>>>21),C=k+(j^I^b)+M[11]+1839030562&4294967295,k=j+(C<<16&4294967295|C>>>16),C=b+(k^j^I)+M[14]+4259657740&4294967295,b=k+(C<<23&4294967295|C>>>9),C=I+(b^k^j)+M[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^k)+M[4]+1272893353&4294967295,j=I+(C<<11&4294967295|C>>>21),C=k+(j^I^b)+M[7]+4139469664&4294967295,k=j+(C<<16&4294967295|C>>>16),C=b+(k^j^I)+M[10]+3200236656&4294967295,b=k+(C<<23&4294967295|C>>>9),C=I+(b^k^j)+M[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^k)+M[0]+3936430074&4294967295,j=I+(C<<11&4294967295|C>>>21),C=k+(j^I^b)+M[3]+3572445317&4294967295,k=j+(C<<16&4294967295|C>>>16),C=b+(k^j^I)+M[6]+76029189&4294967295,b=k+(C<<23&4294967295|C>>>9),C=I+(b^k^j)+M[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=j+(I^b^k)+M[12]+3873151461&4294967295,j=I+(C<<11&4294967295|C>>>21),C=k+(j^I^b)+M[15]+530742520&4294967295,k=j+(C<<16&4294967295|C>>>16),C=b+(k^j^I)+M[2]+3299628645&4294967295,b=k+(C<<23&4294967295|C>>>9),C=I+(k^(b|~j))+M[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~k))+M[7]+1126891415&4294967295,j=I+(C<<10&4294967295|C>>>22),C=k+(I^(j|~b))+M[14]+2878612391&4294967295,k=j+(C<<15&4294967295|C>>>17),C=b+(j^(k|~I))+M[5]+4237533241&4294967295,b=k+(C<<21&4294967295|C>>>11),C=I+(k^(b|~j))+M[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~k))+M[3]+2399980690&4294967295,j=I+(C<<10&4294967295|C>>>22),C=k+(I^(j|~b))+M[10]+4293915773&4294967295,k=j+(C<<15&4294967295|C>>>17),C=b+(j^(k|~I))+M[1]+2240044497&4294967295,b=k+(C<<21&4294967295|C>>>11),C=I+(k^(b|~j))+M[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~k))+M[15]+4264355552&4294967295,j=I+(C<<10&4294967295|C>>>22),C=k+(I^(j|~b))+M[6]+2734768916&4294967295,k=j+(C<<15&4294967295|C>>>17),C=b+(j^(k|~I))+M[13]+1309151649&4294967295,b=k+(C<<21&4294967295|C>>>11),C=I+(k^(b|~j))+M[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=j+(b^(I|~k))+M[11]+3174756917&4294967295,j=I+(C<<10&4294967295|C>>>22),C=k+(I^(j|~b))+M[2]+718787259&4294967295,k=j+(C<<15&4294967295|C>>>17),C=b+(j^(k|~I))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var b=I-this.blockSize,M=this.B,k=this.h,j=0;j<I;){if(k==0)for(;j<=b;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<I;)if(M[k++]=N.charCodeAt(j++),k==this.blockSize){o(this,M),k=0;break}}else for(;j<I;)if(M[k++]=N[j++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var b=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=b&255,b/=256;for(this.u(N),N=Array(16),I=b=0;4>I;++I)for(var M=0;32>M;M+=8)N[b++]=this.g[I]>>>M&255;return N};function u(N,I){var b=m;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=I(N)}function f(N,I){this.h=I;for(var b=[],M=!0,k=N.length-1;0<=k;k--){var j=N[k]|0;M&&j==I||(b[k]=j,M=!1)}this.g=b}var m={};function p(N){return-128<=N&&128>N?u(N,function(I){return new f([I|0],0>I?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return L(g(-N));for(var I=[],b=1,M=0;N>=b;M++)I[M]=N/b|0,b*=4294967296;return new f(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return L(E(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(I,8)),M=S,k=0;k<N.length;k+=8){var j=Math.min(8,N.length-k),C=parseInt(N.substring(k,k+j),I);8>j?(j=g(Math.pow(I,j)),M=M.j(j).add(g(C))):(M=M.j(b),M=M.add(g(C)))}return M}var S=p(0),w=p(1),O=p(16777216);r=f.prototype,r.m=function(){if($(this))return-L(this).m();for(var N=0,I=1,b=0;b<this.g.length;b++){var M=this.i(b);N+=(0<=M?M:4294967296+M)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if($(this))return"-"+L(this).toString(N);for(var I=g(Math.pow(N,6)),b=this,M="";;){var k=ne(b,I).g;b=H(b,k.j(I));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=k,V(b))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=H(this,N),$(N)?-1:V(N)?0:1};function L(N){for(var I=N.g.length,b=[],M=0;M<I;M++)b[M]=~N.g[M];return new f(b,~N.h).add(w)}r.abs=function(){return $(this)?L(this):this},r.add=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],M=0,k=0;k<=I;k++){var j=M+(this.i(k)&65535)+(N.i(k)&65535),C=(j>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=C>>>16,j&=65535,C&=65535,b[k]=C<<16|j}return new f(b,b[b.length-1]&-2147483648?-1:0)};function H(N,I){return N.add(L(I))}r.j=function(N){if(V(this)||V(N))return S;if($(this))return $(N)?L(this).j(L(N)):L(L(this).j(N));if($(N))return L(this.j(L(N)));if(0>this.l(O)&&0>N.l(O))return g(this.m()*N.m());for(var I=this.g.length+N.g.length,b=[],M=0;M<2*I;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<N.g.length;k++){var j=this.i(M)>>>16,C=this.i(M)&65535,Bt=N.i(k)>>>16,ut=N.i(k)&65535;b[2*M+2*k]+=C*ut,Q(b,2*M+2*k),b[2*M+2*k+1]+=j*ut,Q(b,2*M+2*k+1),b[2*M+2*k+1]+=C*Bt,Q(b,2*M+2*k+1),b[2*M+2*k+2]+=j*Bt,Q(b,2*M+2*k+2)}for(M=0;M<I;M++)b[M]=b[2*M+1]<<16|b[2*M];for(M=I;M<2*I;M++)b[M]=0;return new f(b,0)};function Q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function G(N,I){this.g=N,this.h=I}function ne(N,I){if(V(I))throw Error("division by zero");if(V(N))return new G(S,S);if($(N))return I=ne(L(N),I),new G(L(I.g),L(I.h));if($(I))return I=ne(N,L(I)),new G(L(I.g),I.h);if(30<N.g.length){if($(N)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var b=w,M=I;0>=M.l(N);)b=re(b),M=re(M);var k=he(b,1),j=he(M,1);for(M=he(M,2),b=he(b,2);!V(M);){var C=j.add(M);0>=C.l(N)&&(k=k.add(b),j=C),M=he(M,1),b=he(b,1)}return I=H(N,k.j(I)),new G(k,I)}for(k=S;0<=N.l(I);){for(b=Math.max(1,Math.floor(N.m()/I.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=g(b),C=j.j(I);$(C)||0<C.l(N);)b-=M,j=g(b),C=j.j(I);V(j)&&(j=w),k=k.add(j),N=H(N,C)}return new G(k,N)}r.A=function(N){return ne(this,N).h},r.and=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],M=0;M<I;M++)b[M]=this.i(M)&N.i(M);return new f(b,this.h&N.h)},r.or=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],M=0;M<I;M++)b[M]=this.i(M)|N.i(M);return new f(b,this.h|N.h)},r.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),b=[],M=0;M<I;M++)b[M]=this.i(M)^N.i(M);return new f(b,this.h^N.h)};function re(N){for(var I=N.g.length+1,b=[],M=0;M<I;M++)b[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(b,N.h)}function he(N,I){var b=I>>5;I%=32;for(var M=N.g.length-b,k=[],j=0;j<M;j++)k[j]=0<I?N.i(j+b)>>>I|N.i(j+b+1)<<32-I:N.i(j+b);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,B0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Bs=f}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0,ql,F0,dh,Km,G0,K0,Y0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,X){for(var le=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)le[Ve-2]=arguments[Ve];return y.prototype[z].apply(A,le)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,X=A.length||0;c.length=z+X;for(let le=0;le<X;le++)c[z+le]=A[le]}else c.push(A)}}class H{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function he(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let X=0;X<b.length;X++)_=b[X],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function C(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Bt{constructor(){this.h=this.g=null}add(y,_){const A=ut.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new H(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,qe=new Bt,P=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(ie)}};var ie=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){j(_)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ne(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}V(Ne,ae);var Se={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Wn(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++Je,this.da=this.fa=!1}function dr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,y,_,A,z){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var le=ts(c,y,A,z);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new Wn(y,this.src,X,!!A,z),y.fa=_,c.push(y)),y};function es(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=z)&&Array.prototype.splice.call(A,z,1),X&&(dr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ts(c,y,_,A){for(var z=0;z<c.length;++z){var X=c[z];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==A)return z}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),Io={};function Du(c,y,_,A,z){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Du(c,y[X],_,A,z);return null}return _=Ou(_),c&&c[Pt]?c.K(y,_,g(A)?!!A.capture:!1,z):bn(c,y,_,!1,A,z)}function bn(c,y,_,A,z,X){if(!y)throw Error("Invalid event type");var le=g(z)?!!z.capture:!!z,Ve=sa(c);if(Ve||(c[ns]=Ve=new Ti(c)),_=Ve.add(y,_,A,le,X),_.proxy)return _;if(A=mf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)_e||(z=le),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(is(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function mf(){function c(_){return y.call(c.src,c.listener,_)}const y=pf;return c}function bo(c,y,_,A,z){if(Array.isArray(y))for(var X=0;X<y.length;X++)bo(c,y[X],_,A,z);else A=g(A)?!!A.capture:!!A,_=Ou(_),c&&c[Pt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=ts(X,_,A,z),-1<_&&(dr(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ts(y,_,A,z)),(_=-1<c?y[c]:null)&&ra(_))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pt])es(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(is(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=sa(y))?(es(_,c),_.h==0&&(_.src=null,y[ns]=null)):dr(c)}}}function is(c){return c in Io?Io[c]:Io[c]="on"+c}function pf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ra(c),c=_.call(A,y)}return c}function sa(c){return c=c[ns],c instanceof Ti?c:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(y){return c.handleEvent(y)}),c[Ro])}function ct(){ce.call(this),this.i=new Ti(this),this.M=this,this.F=null}V(ct,ce),ct.prototype[Pt]=!0,ct.prototype.removeEventListener=function(c,y,_,A){bo(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var z=y;y=new ae(A,c),M(y,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var le=y.g=_[X];z=gn(le,A,!0,y)&&z}if(le=y.g=c,z=gn(le,A,!0,y)&&z,z=gn(le,A,!1,y)&&z,_)for(X=0;X<_.length;X++)le=y.g=_[X],z=gn(le,A,!1,y)&&z}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)dr(_[A]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ct.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function gn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,X=0;X<y.length;++X){var le=y[X];if(le&&!le.da&&le.capture==_){var Ve=le.listener,Ct=le.ha||le.src;le.fa&&es(c.i,le),z=Ve.call(Ct,A)!==!1&&z}}return z&&!A.defaultPrevented}function Wt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Pu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gf extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){ce.call(this),this.h=c,this.g={}}V(rs,ce);var ss=[];function as(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&ra(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,aa=m.JSON.parse,os=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function No(c){return c.h||(c.h=c.i())}function Do(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ae.call(this,"d")}V(Si,ae);function Oo(){ae.call(this,"c")}V(Oo,ae);var Zn={},Po=null;function mr(){return Po=Po||new ct}Zn.La="serverreachability";function oa(c){ae.call(this,Zn.La,c)}V(oa,ae);function pr(c){const y=mr();Fe(y,new oa(y))}Zn.STAT_EVENT="statevent";function Mu(c,y){ae.call(this,Zn.STAT_EVENT,c),this.stat=y}V(Mu,ae);function rt(c){const y=mr();Fe(y,new Mu(y,c))}Zn.Ma="timingevent";function Rt(c,y){ae.call(this,Zn.Ma,c),this.size=y}V(Rt,ae);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Mo(c,y,_,A,z,X){c.info(function(){if(c.g)if(X)for(var le="",Ve=X.split("&"),Ct=0;Ct<Ve.length;Ct++){var ke=Ve[Ct].split("=");if(1<ke.length){var xt=ke[0];ke=ke[1];var Nt=xt.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(xt+"="+ke+"&"):le+(xt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+le})}function yf(c,y,_,A,z,X,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+X+" "+le})}function gr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,_)+(A?" "+A:"")})}function xu(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return qn(_)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ei(){}V(ei,Co),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jn=new ei;function an(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var xo={},la={};function Bn(c,y,_){c.L=1,c.v=ds(yn(y)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),us(c),c.A=yn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),zo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new mt,c.g=Xu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new gf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ss[0]=z.toString()),z=ss);for(var X=0;X<z.length;X++){var le=Du(_,z[X],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pr(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}an.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},an.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=On(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Mi?pr(3):pr(2)),_r(this);var _=this.g.Z();this.X=_;t:if(Vu(this)){var A=Bu(this.g);c="";var z=A.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ti(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(X&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,yf(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ct=this.g;if((Ve=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ve)){var ke=Ve;break t}}ke=null}if(_=ke)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,_);else{this.o=!1,this.s=3,rt(12),Ht(this),ti(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<le.length;)if(Ft=ku(this,le),Ft==la){Nt==4&&(this.s=4,rt(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==xo){this.s=4,rt(15),gr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,Ft,null),cs(this,Ft);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,le,"[Invalid Chunked Response]"),Ht(this),ti(this);else if(0<le.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ts(xt),xt.M=!0,rt(11))}}else gr(this.i,this.l,le,null),cs(this,le);Nt==4&&Ht(this),this.o&&!this.J&&(Nt==4?Yu(this.j,this):(this.o=!1,us(this)))}else Af(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ht(this),ti(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ku(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?la:(_=Number(y.substring(_,A)),isNaN(_)?xo:(A+=1,A+_>y.length?la:(y=y.slice(A,A+_),c.C=A+_,y)))}an.prototype.cancel=function(){this.J=!0,Ht(this)};function us(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(w(c.ba,c),y)}function _r(c){c.B&&(m.clearTimeout(c.B),c.B=null)}an.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xu(this.i,this.A),this.L!=2&&(pr(),rt(17)),Ht(this),this.s=2,ti(this)):Lu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Yu(c.j,c)}function Ht(c){_r(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Vo(_.h,c))){if(!c.K&&Vo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break e;Go(_),rt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(w(_.Za,_),6e3));if(1>=ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((c.K||_.g==c)&&Ea(_),!Q(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const xt=ke[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const Nt=ke[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const Mi=ke[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(A=1.5*Mi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ft=c.g;if(Ft){const li=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var X=A.h;X.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ha(X,X.h),X.h=null))}if(A.D){const Yo=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(A.ya=Yo,Qe(A.I,A.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var le=c;if(A.qa=$u(A,A.J?A.ia:null,A.W),le.K){on(A.h,le);var Ve=le,Ct=A.L;Ct&&(Ve.I=Ct),Ve.B&&(_r(Ve),us(Ve)),A.g=le}else Gu(A);0<_.i.length&&va(_)}else ke[0]!="stop"&&ke[0]!="close"||Pi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Pi(_,7):Ho(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}pr(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function Vo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ha(c,y){c.g?c.g.add(y):c.h=y}function on(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}bi.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function _f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Lo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=fa(c),A=_f(c),z=A.length,X=0;X<z;X++)y.call(void 0,A[X],_&&_[X],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var X=c[_].substring(0,A);z=c[_].substring(A+1)}else X=c[_];y(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.s),this.l=c.l;var y=c.i,_=new Ci;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=Cn(y[2]||""),this.g=Cn(y[3]||"",!0),vr(this,y[4]),this.l=Cn(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=Cn(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ms(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ms(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ms(_,_.charAt(0)=="/"?Ef:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ms(_,da)),c.join("")};function yn(c){return new Et(c)}function fs(c,y,_){c.j=_?Cn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ci?(c.i=y,zu(c.i,c.h)):(_||(y=ms(y,Tf)),c.i=new Ci(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function ds(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,Ef=/[#\?]/g,Tf=/[#\?@]/g,da=/#/g;function Ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&vf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ci.prototype,r.add=function(c,y){Nn(this),this.i=null,c=ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ni(c,y){Nn(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Nn(c),y=ni(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let X=0;X<z.length;X++)_.push(y[A])}return _},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,_){Ni(c,y),0<_.length&&(c.i=null,c.g.set(ni(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const X=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var z=X;le[A]!==""&&(z+="="+encodeURIComponent(String(le[A]))),c.push(z)}}return this.i=c.join("&")};function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Ni(this,A),zo(this,z,_))},c)),c.j=y}function ps(c,y){const _=new Rn;if(m.Image){const A=new Image;A.onload=O(Dn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=O(Dn,_,"TestLoadImage: error",!1,y,A),A.onabort=O(Dn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(Dn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Hn(c,y){const _=new Rn,A=new AbortController,z=setTimeout(()=>{A.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(z),X.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function gs(){this.g=new os}function ii(c,y,_){const A=_||"";try{Lo(c,function(z,X){let le=z;g(z)&&(le=qn(z)),y.push(A+X+"="+encodeURIComponent(le))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Er,Co),Er.prototype.g=function(){return new Oi(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Oi,ct),r=Oi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ri(this):si(this),this.readyState==3&&qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return he(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function He(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(He,ct);var ma=/^https?$/i,ys=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?No(this.o):No(Jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){qu(this,X);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){qu(this,X)}};function qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),ai(c)}function pa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},r.bb=function(){ga(this)};function ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Wt(c.Ea,0,c);else if(Fe(c,"readystatechange"),On(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=le===0){var z=String(c.D).match(hs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ma.test(z?z.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var X=2<On(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",pa(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){_s(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function _s(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),aa(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var _=k(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[z]||[];y[z]=X,X.push(_)}N(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ya.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){rt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=$u(this,null,this.W),va(this)};function Ho(c){if(Hu(c),c.G==3){var y=c.U++,_=yn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Es(c,_),y=new an(c,c.j,y),y.L=2,y.v=ds(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}Qu(c)}function _a(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Hu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||P(),ge||(ue(),ge=!0),qe.add(y,c),c.B=0}}function Sf(c,y){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(w(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new an(this,this.j,c);let X=this.o;if(this.S&&(X?(X=I(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Fu(this,z,y),_=yn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Es(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(Bo(X)))+"&"+y:this.m&&Mt(_,this.m,X)),ha(this.h,z),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),z.T=!0,Bn(z,_,null)):Bn(z,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||ua(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const A=yn(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),Es(c,A),c.m&&c.o&&Mt(A,c.m,c.o),_=new an(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),Bn(_,A,y)}function Es(c,y){c.H&&he(c.H,function(_,A){Qe(y,A,_)}),c.l&&Lo({},function(_,A){Qe(y,A,_)})}function Fu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let X=-1;for(;;){const le=["count="+_];X==-1?0<_?(X=z[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ve=!0;for(let Ct=0;Ct<_;Ct++){let ke=z[Ct].g;const xt=z[Ct].map;if(ke-=X,0>ke)X=Math.max(0,z[Ct].g-100),Ve=!1;else try{ii(xt,le,"req"+ke+"_")}catch{A&&A(xt)}}if(Ve){A=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||P(),ge||(ue(),ge=!0),qe.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(w(c.Fa,c),Ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),_a(this),Ku(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new an(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ds(yn(y)),_.m=null,_.P=!0,Ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,_a(this),Go(this),rt(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Yu(c,y){var _=null;if(c.g==y){Ea(c),Ts(c),c.g=null;var A=2}else if(Vo(c.h,y))_=y.D,on(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=mr(),Fe(A,new Rt(A,_)),va(c)}else Gu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Sf(c,y)||A==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const z=!A;A=new Et(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(A,"https"),ds(A),z?ps(A.toString(),_):Hn(A.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function $u(c,y,_){var A=_ instanceof Et?yn(_):new Et(_);if(A.g!="")y&&(A.g=y+"."+A.g),vr(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var X=new Et(null);A&&fs(X,A),y&&(X.g=y),z&&vr(X,z),_&&(X.l=_),A=X}return _=c.D,y=c.ya,_&&y&&Qe(A,_,y),Qe(A,"VER",c.la),Es(c,A),A}function Xu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new Er({eb:_})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}r=Wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){ct.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}V(ln,ct),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ho(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=qn(c),c=_);y.i.push(new Uu(y.Ya++,c)),y.G==3&&va(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,ln.aa.N.call(this)};function Zu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Zu,Si);function Ju(){Oo.call(this),this.status=1}V(Ju,Oo);function oi(c){this.g=c}V(oi,Wu),oi.prototype.ua=function(){Fe(this.g,"a")},oi.prototype.ta=function(c){Fe(this.g,new Zu(c))},oi.prototype.sa=function(c){Fe(this.g,new Ju)},oi.prototype.ra=function(){Fe(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Y0=function(){return new Ta},K0=function(){return mr()},G0=Zn,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,dh=yr,wi.COMPLETE="complete",F0=wi,Do.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ql=Do,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,H0=He}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const EE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new pp("@firebase/firestore");function Ll(){return Fs.logLevel}function me(r,...e){if(Fs.logLevel<=xe.DEBUG){const n=e.map(Up);Fs.debug(`Firestore (${Ao}): ${r}`,...n)}}function lr(r,...e){if(Fs.logLevel<=xe.ERROR){const n=e.map(Up);Fs.error(`Firestore (${Ao}): ${r}`,...n)}}function Gs(r,...e){if(Fs.logLevel<=xe.WARN){const n=e.map(Up);Fs.warn(`Firestore (${Ao}): ${r}`,...n)}}function Up(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+r;throw lr(e),new Error(e)}function Ye(r,e){r||we()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new Q0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new tn(e)}}class jD{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zD{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new jD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new qD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=HD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function oo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new bt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new bt(0,0))}static max(){return new Ie(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ru.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ru?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=e.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends ru{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ru{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}function GD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new $r(o,ye.empty(),e)}function KD(r){return new $r(r.readTime,r.key,-1)}class $r{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(Ie.min(),ye.empty(),-1)}static max(){return new $r(Ie.max(),ye.empty(),-1)}}function YD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $D{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==QD)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(o=>o?se.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new se((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new se((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function XD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zp.oe=-1;function $h(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function WD(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function X0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(e){return new AE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class AE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Xt(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new W0("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const ZD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(r){if(Ye(!!r),typeof r=="string"){let e=0;const n=ZD.exec(r);if(Ye(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ks(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bp(r){const e=r.mapValue.fields.__previous_value__;return qp(e)?Bp(e):e}function su(r){const e=Xr(r.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh={mapValue:{}};function Ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qp(r)?4:tO(r)?9007199254740991:eO(r)?10:11:we()}function vi(r,e){if(r===e)return!0;const n=Ys(r);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xr(o.timestampValue),m=Xr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ks(o.bytesValue).isEqual(Ks(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(TE(f)!==TE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vi(f[p],m[p])))return!1;return!0}(r,e);default:return we()}}function au(r,e){return(r.values||[]).find(n=>vi(n,e))!==void 0}function uo(r,e){if(r===e)return 0;const n=Ys(r),s=Ys(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return SE(r.timestampValue,e.timestampValue);case 4:return SE(su(r),su(e));case 5:return ze(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Ks(u),p=Ks(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ze(m[g],p[g]);if(E!==0)return E}return ze(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ze(yt(u.latitude),yt(f.latitude));return m!==0?m:ze(yt(u.longitude),yt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return wE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},w=f.fields||{},O=(m=S.value)===null||m===void 0?void 0:m.arrayValue,V=(p=w.value)===null||p===void 0?void 0:p.arrayValue,$=ze(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:wE(O,V)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=ze(p[S],E[S]);if(w!==0)return w;const O=uo(m[p[S]],g[E[S]]);if(O!==0)return O}return ze(p.length,E.length)}(r.mapValue,e.mapValue);default:throw we()}}function SE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=Xr(r),s=Xr(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function wE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function co(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ks(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function IE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Qm(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function bE(r){return!!r&&"nullValue"in r}function RE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function eO(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Js(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function tO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=jt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Js(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(Kl(this.value))}}function Z0(r){const e=[];return Js(r.fields,(n,s)=>{const o=new jt([n]);if(mh(s)){const u=Z0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ie.min(),Ie.min(),Ie.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ie.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ie.min(),Ie.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ie.min(),Ie.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function CE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function NE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function nO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{}class It extends J0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rO(e,n,s):n==="array-contains"?new oO(e,s):n==="in"?new lO(e,s):n==="not-in"?new uO(e,s):n==="array-contains-any"?new cO(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sO(e,s):new aO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends J0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return eA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eA(r){return r.op==="and"}function tA(r){return iO(r)&&eA(r)}function iO(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function $m(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+co(r.value);if(tA(r))return r.filters.map(e=>$m(e)).join(",");{const e=r.filters.map(n=>$m(n)).join(",");return`${r.op}(${e})`}}function nA(r,e){return r instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(r,e):r instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&nA(f,o.filters[m]),!0):!1}(r,e):void we()}function iA(r){return r instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"}(r):"Filter"}class rO extends It{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class sO extends It{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aO extends It{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rA(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class oO extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&au(n.arrayValue,this.value)}}class lO extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class uO extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!au(this.value.arrayValue,n)}}class cO extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.ue=null}}function DE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new hO(r,e,n,s,o,u,f)}function Fp(r){const e=be(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>$m(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>co(s)).join(",")),e.ue=n}return e.ue}function Gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!nA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!NE(r.startAt,e.startAt)&&NE(r.endAt,e.endAt)}function Xm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fO(r,e,n,s,o,u,f,m){return new Tu(r,e,n,s,o,u,f,m)}function Kp(r){return new Tu(r)}function OE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sA(r){return r.collectionGroup!==null}function Yl(r){const e=be(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(jt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ch(u,s))}),n.has(jt.keyField().canonicalString())||e.ce.push(new Ch(jt.keyField(),s))}return e.ce}function pi(r){const e=be(r);return e.le||(e.le=dO(e,Yl(r))),e.le}function dO(r,e){if(r.limitType==="F")return DE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ch(o.field,u)});const n=r.endAt?new Rh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rh(r.startAt.position,r.startAt.inclusive):null;return DE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Wm(r,e){const n=r.filters.concat([e]);return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zm(r,e,n){return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Xh(r,e){return Gp(pi(r),pi(e))&&r.limitType===e.limitType}function aA(r){return`${Fp(pi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>iA(o)).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(pi(r))}; limitType=${r.limitType})`}function Wh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=CE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Yl(s),o)||s.endAt&&!function(f,m,p){const g=CE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Yl(s),o))}(r,e)}function mO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oA(r){return(e,n)=>{let s=!1;for(const o of Yl(r)){const u=pO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pO(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new lt(ye.comparator);function ur(){return gO}const lA=new lt(ye.comparator);function Bl(...r){let e=lA;for(const n of r)e=e.insert(n.key,n);return e}function uA(r){let e=lA;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function js(){return Ql()}function cA(){return Ql()}function Ql(){return new So(r=>r.toString(),(r,e)=>r.isEqual(e))}const yO=new lt(ye.comparator),_O=new Xt(ye.comparator);function Me(...r){let e=_O;for(const n of r)e=e.add(n);return e}const vO=new Xt(ze);function EO(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function hA(r){return{integerValue:""+r}}function TO(r,e){return WD(e)?hA(e):Yp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function AO(r,e,n){return r instanceof ou?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=Bp(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,e):r instanceof lu?dA(r,e):r instanceof uu?mA(r,e):function(o,u){const f=fA(o,u),m=PE(f)+PE(o.Pe);return Qm(f)&&Qm(o.Pe)?hA(m):Yp(o.serializer,m)}(r,e)}function SO(r,e,n){return r instanceof lu?dA(r,e):r instanceof uu?mA(r,e):n}function fA(r,e){return r instanceof Nh?function(s){return Qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ou extends Zh{}class lu extends Zh{constructor(e){super(),this.elements=e}}function dA(r,e){const n=pA(e);for(const s of r.elements)n.some(o=>vi(o,s))||n.push(s);return{arrayValue:{values:n}}}class uu extends Zh{constructor(e){super(),this.elements=e}}function mA(r,e){let n=pA(e);for(const s of r.elements)n=n.filter(o=>!vi(o,s));return{arrayValue:{values:n}}}class Nh extends Zh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function PE(r){return yt(r.integerValue||r.doubleValue)}function pA(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.field=e,this.transform=n}}function IO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?oo(s.elements,o.elements,vi):s instanceof Nh&&o instanceof Nh?vi(s.Pe,o.Pe):s instanceof ou&&o instanceof ou}(r.transform,e.transform)}class bO{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jh{}function gA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _A(r.key,Yn.none()):new Au(r.key,r.data,Yn.none());{const n=r.data,s=mn.empty();let o=new Xt(jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Jr(r.key,s,new In(o.toArray()),Yn.none())}}function RO(r,e,n){r instanceof Au?function(o,u,f){const m=o.value.clone(),p=xE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Jr?function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(yA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(r,e,n,s){return r instanceof Au?function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=u.value.clone(),E=VE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Jr?function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=VE(u.fieldTransforms,p,f),E=f.data;return E.setAll(yA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function CO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=fA(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function ME(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>IO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Au extends Jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends Jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function xE(r,e,n){const s=new Map;Ye(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,SO(f,m,n[o]))}return s}function VE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,AO(u,f,e))}return s}class _A extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=gA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,s)=>ME(n,s))&&oo(this.baseMutations,e.baseMutations,(n,s)=>ME(n,s))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length);let o=function(){return yO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ue;function MO(r){switch(r){default:return we();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function vA(r){if(r===void 0)return lr("GRPC error has no .code"),te.UNKNOWN;switch(r){case St.OK:return te.OK;case St.CANCELLED:return te.CANCELLED;case St.UNKNOWN:return te.UNKNOWN;case St.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case St.INTERNAL:return te.INTERNAL;case St.UNAVAILABLE:return te.UNAVAILABLE;case St.UNAUTHENTICATED:return te.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case St.NOT_FOUND:return te.NOT_FOUND;case St.ALREADY_EXISTS:return te.ALREADY_EXISTS;case St.PERMISSION_DENIED:return te.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case St.ABORTED:return te.ABORTED;case St.OUT_OF_RANGE:return te.OUT_OF_RANGE;case St.UNIMPLEMENTED:return te.UNIMPLEMENTED;case St.DATA_LOSS:return te.DATA_LOSS;default:return we()}}(Ue=St||(St={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Bs([4294967295,4294967295],0);function kE(r){const e=xO().encode(r),n=new B0;return n.update(e),new Uint8Array(n.digest())}function LE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Bs([n,s],0),new Bs([o,u],0)]}class $p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bs.fromNumber(this.Ie)}Ee(e,n,s){let o=e.add(n.multiply(Bs.fromNumber(s)));return o.compare(VO)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kE(e),[s,o]=LE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);if(!this.de(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new $p(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ie===0)return;const n=kE(e),[s,o]=LE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ef(Ie.min(),o,new lt(ze),ur(),Me())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class EA{constructor(e,n){this.targetId=e,this.me=n}}class TA{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class UE{constructor(){this.fe=0,this.ge=zE(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),s=Me();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Su(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=zE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kO{constructor(e){this.Le=e,this.Be=new Map,this.ke=ur(),this.qe=jE(),this.Qe=new lt(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,s=e.me.count,o=this.Je(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new ye(u.path);this.Ue(n,f,nn.newNoDocument(f,Ie.min()))}else Ye(s===1);else{const f=this.Ye(n);if(f!==s){const m=this.Ze(e),p=m?this.Xe(m,e,f):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ks(s).toUint8Array()}catch(p){if(p instanceof W0)return Gs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $p(f,o,u)}catch(p){return Gs(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,u,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((u,f)=>{const m=this.Je(f);if(m){if(u.current&&Xm(m.target)){const p=new ye(m.target.path);this.ke.get(p)!==null||this.it(f,p)||this.Ue(f,p,nn.newNoDocument(p,e))}u.be&&(n.set(f,u.ve()),u.Ce())}});let s=Me();this.qe.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,f)=>f.setReadTime(e));const o=new ef(e,n,this.Qe,this.ke,s);return this.ke=ur(),this.qe=jE(),this.Qe=new lt(ze),o}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new UE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new UE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jE(){return new lt(ye.comparator)}function zE(){return new lt(ye.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class zO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qO(r,e){return Dh(r,e.toTimestamp())}function gi(r){return Ye(!!r),Ie.fromTimestamp(function(n){const s=Xr(n);return new bt(s.seconds,s.nanos)}(r))}function Xp(r,e){return ep(r,e).canonicalString()}function ep(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function SA(r){const e=tt.fromString(r);return Ye(CA(e)),e}function tp(r,e){return Xp(r.databaseId,e.path)}function Om(r,e){const n=SA(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(IA(n))}function wA(r,e){return Xp(r.databaseId,e)}function BO(r){const e=SA(r);return e.length===4?tt.emptyPath():IA(e)}function np(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IA(r){return Ye(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function qE(r,e,n){return{name:tp(r,e),fields:n.value.mapValue.fields}}function HO(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string"),qt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),qt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:vA(g.code);return new fe(E,g.message||"")}(f);n=new TA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):Ie.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?gi(s.readTime):Ie.min(),f=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new PO(o,u),m=s.targetId;n=new EA(m,f)}}return n}function FO(r,e){let n;if(e instanceof Au)n={update:qE(r,e.key,e.value)};else if(e instanceof _A)n={delete:tp(r,e.key)};else if(e instanceof Jr)n={update:qE(r,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof NO))return we();n={verify:tp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ou)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function GO(r,e){return r&&r.length>0?(Ye(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(Ie.min())&&(f=gi(u)),new bO(f,o.transformResults||[])}(n,e))):[]}function KO(r,e){return{documents:[wA(r,e.path)]}}function YO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=wA(r,o);const u=function(g){if(g.length!==0)return RA(Qn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:Za(w.field),direction:XO(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:n,parent:o}}function QO(r){let e=BO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=bA(S);return w instanceof Qn&&tA(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(V){return new Ch(Ja(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,$h(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,O=S.values||[];return new Rh(O,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,O=S.values||[];return new Rh(O,w)}(n.endAt)),fO(e,o,f,u,m,"F",p,g)}function $O(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return It.create(Ja(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>bA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function XO(r){return LO[r]}function WO(r){return UO[r]}function ZO(r){return jO[r]}function Za(r){return{fieldPath:r.canonicalString()}}function Ja(r){return jt.fromServerFormat(r.fieldPath)}function RA(r){return r instanceof It?function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(bE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(bE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:WO(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(o=>RA(o));return s.length===1?s[0]:{compositeFilter:{op:ZO(n.op),filters:s}}}(r):we()}function JO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s,o,u=Ie.min(),f=Ie.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.ct=e}}function t2(r){const e=QO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.un=new i2}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve($r.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class i2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Xt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ho(0)}static kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&$l(s.mutation,o,In.empty(),bt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Bl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ur();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Jr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),bt.now())):f.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new s2(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new lt((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||In.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=cA();E.forEach(w=>{if(!u.has(w)){const O=gA(n.get(w),s.get(w));O!==null&&S.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return se.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve(js());let m=-1,p=u;return f.next(g=>se.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Me())).next(E=>({batchId:m,changes:uA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const g=function(S,w){return new Tu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))});let m=Bl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,In.empty(),bt.now()),Wh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:t2(o.bundledQuery),readTime:gi(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.overlays=new lt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.ht(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return se.resolve(m)}ht(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new OO(n,s));let u=this.Ir.get(n);u===void 0&&(u=Me(),this.Ir.set(n,u)),this.Ir.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.Tr=new Xt(Ut.Er),this.dr=new Xt(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new ye(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.dr.forEachInRange([s,o],f=>{this.Vr(f),u.push(f.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Me();return this.dr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(Ut.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.br=this.br.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.vr(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],f=>{const m=this.Dr(f.wr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(ze);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,f],m=>{s=s.add(m.wr)})}),se.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new Xt(ze);return this.br.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.wr)),!0)},f),se.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return se.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new Ut(n,0),o=this.br.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.Mr=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new ye(f.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||YD(KD(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}Or(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new f2(this)}getSize(e){return se.resolve(this.size)}}class f2 extends r2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.persistence=e,this.Nr=new So(n=>Fp(n),Gp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wp,this.targetCount=0,this.kr=ho.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Nr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zp(0),this.Kr=!1,this.Kr=!0,this.$r=new u2,this.referenceDelegate=e(this),this.Ur=new d2(this),this.indexManager=new n2,this.remoteDocumentCache=function(o){return new h2(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new e2(n),this.Gr=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new c2(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new p2(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,n){return se.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class p2 extends $D{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Jr=new Wp,this.Yr=null}static Zr(e){return new Zp(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,s=>{const o=ye.fromPath(s);return this.ei(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=o}static Wi(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yb()?8:XD(sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Yi(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Zi(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new g2;return this.Xi(e,n,f).next(m=>{if(u.result=m,this.zi)return this.es(e,n,f,m.size)})}).next(()=>u.result)}es(e,n,s,o){return s.documentReadCount<this.ji?(Ll()<=xe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Ll()<=xe.DEBUG&&me("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Ll()<=xe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):se.resolve())}Yi(e,n){if(OE(n))return se.resolve(null);let s=pi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.Ji.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ts(n,m);return this.ns(n,g,f,p.readTime)?this.Yi(e,Zm(n,null,"F")):this.rs(e,g,n,p)}))})))}Zi(e,n,s,o){return OE(n)||o.isEqual(Ie.min())?se.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const f=this.ts(n,u);return this.ns(n,f,s,o)?se.resolve(null):(Ll()<=xe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.rs(e,f,n,GD(o,-1)).next(m=>m))})}ts(e,n){let s=new Xt(oA(e));return n.forEach((o,u)=>{Wh(e,u)&&(s=s.add(u))}),s}ns(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,n,s){return Ll()<=xe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),s)}rs(e,n,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,s,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new lt(ze),this._s=new So(u=>Fp(u),Gp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function v2(r,e,n,s){return new _2(r,e,n,s)}async function NA(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({hs:g,removedBatchIds:f,addedBatchIds:m}))})})}function E2(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,w=S.keys();let O=se.resolve();return w.forEach(V=>{O=O.next(()=>E.getEntry(p,V)).next($=>{const L=g.docVersions.get(V);Ye(L!==null),$.version.compareTo(L)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function DA(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function T2(r,e){const n=be(r),s=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const m=[];e.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Ur.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Ur.addMatchingKeys(u,E.addedDocuments,S)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),function($,L,H){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,O,E)&&m.push(n.Ur.updateTargetData(u,O))});let p=ur(),g=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(A2(u,f,e.documentUpdates).next(E=>{p=E.Ps,g=E.Is})),!s.isEqual(Ie.min())){const E=n.Ur.getLastRemoteSnapshotVersion(u).next(S=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return se.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.os=o,u))}function A2(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ur();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ps:f,Is:o}})}function S2(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function w2(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ur.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):n.Ur.allocateTargetId(s).next(f=>(o=new Fr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function ip(r,e,n){const s=be(r),o=s.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eu(f))throw f;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function BE(r,e,n){const s=be(r);let o=Ie.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=be(p),w=S._s.get(E);return w!==void 0?se.resolve(S.os.get(w)):S.Ur.getTargetData(g,E)}(s,f,pi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.ss.getDocumentsMatchingQuery(f,e,n?o:Ie.min(),n?u:Me())).next(m=>(I2(s,mO(e),m),{documents:m,Ts:u})))}function I2(r,e,n){let s=r.us.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.us.set(e,s)}class HE{constructor(){this.activeTargetIds=EO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b2{constructor(){this.so=new HE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new HE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function Pm(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class D2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(n,s,o,u,f){const m=Pm(),p=this.xo(n,s.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${m}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,u,f),this.No(n,p,g,o).then(E=>(me("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw Gs("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}Lo(n,s,o,u,f,m){return this.Mo(n,s,o,u,f)}Oo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,f)=>n[f]=u),o&&o.headers.forEach((u,f)=>n[f]=u)}xo(n,s){const o=C2[n];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,o){const u=Pm();return new Promise((f,m)=>{const p=new H0;p.setWithCredentials(!0),p.listenOnce(F0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const E=p.getResponseJson();me(en,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case dh.TIMEOUT:me(en,`RPC '${e}' ${u} timed out`),m(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const S=p.getStatus();if(me(en,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const V=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN}(O.status);m(new fe(V,O.message))}else m(new fe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(te.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{me(en,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);me(en,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Bo(e,n,s){const o=Pm(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Y0(),m=K0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");me(en,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let w=!1,O=!1;const V=new N2({Io:L=>{O?me(en,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(me(en,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),me(en,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},To:()=>S.close()}),$=(L,H,Q)=>{L.listen(H,G=>{try{Q(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return $(S,ql.EventType.OPEN,()=>{O||(me(en,`RPC '${e}' stream ${o} transport opened.`),V.yo())}),$(S,ql.EventType.CLOSE,()=>{O||(O=!0,me(en,`RPC '${e}' stream ${o} transport closed`),V.So())}),$(S,ql.EventType.ERROR,L=>{O||(O=!0,Gs(en,`RPC '${e}' stream ${o} transport errored:`,L),V.So(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),$(S,ql.EventType.MESSAGE,L=>{var H;if(!O){const Q=L.data[0];Ye(!!Q);const G=Q,ne=G.error||((H=G[0])===null||H===void 0?void 0:H.error);if(ne){me(en,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let he=function(b){const M=St[b];if(M!==void 0)return vA(M)}(re),N=ne.message;he===void 0&&(he=te.INTERNAL,N="Unknown error status: "+re+" with message "+ne.message),O=!0,V.So(new fe(he,N)),S.close()}else me(en,`RPC '${e}' stream ${o} received:`,Q),V.bo(Q)}}),$(m,G0.STAT_EVENT,L=>{L.stat===Km.PROXY?me(en,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Km.NOPROXY&&me(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.wo()},0),V}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r){return new zO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,s,o,u,f,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===n&&this.P_(s,o)},s=>{e(()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O2 extends PA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=HO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?gi(f.readTime):Ie.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=np(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:KO(u,p)}:{query:YO(u,p)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=AA(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=$O(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.a_(n)}}class P2 extends PA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GO(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=np(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>FO(this.serializer,s))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Mo(e,ep(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())})}Lo(e,n,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Lo(e,ep(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class x2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(f=>{s.enqueueAndForget(async()=>{ea(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=be(p);g.L_.add(4),await wu(g),g.q_.set("Unknown"),g.L_.delete(4),await nf(g)}(this))})}),this.q_=new x2(s,o)}}async function nf(r){if(ea(r))for(const e of r.B_)await e(!0)}async function wu(r){for(const e of r.B_)await e(!1)}function MA(r,e){const n=be(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ig(n)?ng(n):wo(n).r_()&&tg(n,e))}function eg(r,e){const n=be(r),s=wo(n);n.N_.delete(e),s.r_()&&xA(n,e),n.N_.size===0&&(s.r_()?s.o_():ea(n)&&n.q_.set("Unknown"))}function tg(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).A_(e)}function xA(r,e){r.Q_.xe(e),wo(r).R_(e)}function ng(r){r.Q_=new kO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.q_.v_()}function ig(r){return ea(r)&&!wo(r).n_()&&r.N_.size>0}function ea(r){return be(r).L_.size===0}function VA(r){r.Q_=void 0}async function k2(r){r.q_.set("Online")}async function L2(r){r.N_.forEach((e,n)=>{tg(r,e)})}async function U2(r,e){VA(r),ig(r)?(r.q_.M_(e),ng(r)):r.q_.set("Unknown")}async function j2(r,e,n){if(r.q_.set("Online"),e instanceof TA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.N_.delete(m),o.Q_.removeTarget(m))}(r,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(r,s)}else if(e instanceof gh?r.Q_.Ke(e):e instanceof EA?r.Q_.He(e):r.Q_.We(e),!n.isEqual(Ie.min()))try{const s=await DA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Q_.rt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(g);E&&u.N_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),xA(u,p);const S=new Fr(E.target,p,g,E.sequenceNumber);tg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,e,n){if(!Eu(e))throw e;r.L_.add(1),await wu(r),r.q_.set("Offline"),n||(n=()=>DA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await nf(r)})}function kA(r,e){return e().catch(n=>Oh(r,n,e))}async function rf(r){const e=be(r),n=Wr(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;z2(e);)try{const o=await S2(e.localStore,s);if(o===null){e.O_.length===0&&n.o_();break}s=o.batchId,q2(e,o)}catch(o){await Oh(e,o)}LA(e)&&UA(e)}function z2(r){return ea(r)&&r.O_.length<10}function q2(r,e){r.O_.push(e);const n=Wr(r);n.r_()&&n.V_&&n.m_(e.mutations)}function LA(r){return ea(r)&&!Wr(r).n_()&&r.O_.length>0}function UA(r){Wr(r).start()}async function B2(r){Wr(r).p_()}async function H2(r){const e=Wr(r);for(const n of r.O_)e.m_(n.mutations)}async function F2(r,e,n){const s=r.O_.shift(),o=Qp.from(s,e,n);await kA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await rf(r)}async function G2(r,e){e&&Wr(r).V_&&await async function(s,o){if(function(f){return MO(f)&&f!==te.ABORTED}(o.code)){const u=s.O_.shift();Wr(s).s_(),await kA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(r,e),LA(r)&&UA(r)}async function GE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=ea(n);n.L_.add(3),await wu(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nf(n)}async function K2(r,e){const n=be(r);e?(n.L_.delete(2),await nf(n)):e||(n.L_.add(2),await wu(n),n.q_.set("Unknown"))}function wo(r){return r.K_||(r.K_=function(n,s,o){const u=be(n);return u.w_(),new O2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:k2.bind(null,r),Ro:L2.bind(null,r),mo:U2.bind(null,r),d_:j2.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),ig(r)?ng(r):r.q_.set("Unknown")):(await r.K_.stop(),VA(r))})),r.K_}function Wr(r){return r.U_||(r.U_=function(n,s,o){const u=be(n);return u.w_(),new P2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:B2.bind(null,r),mo:G2.bind(null,r),f_:H2.bind(null,r),g_:F2.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await rf(r)):(await r.U_.stop(),r.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new rg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Eu(r))return new fe(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.W_=new lt(ye.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class fo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Q2{constructor(){this.queries=YE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=YE(),u.forEach((f,m)=>{for(const p of m.j_)p.onError(s)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function YE(){return new So(r=>aA(r),Xh)}async function jA(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new Y2,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await n.onListen(o,!0);break;case 1:u.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=sg(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&ag(n)}async function zA(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.j_.indexOf(e);f>=0&&(u.j_.splice(f,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $2(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.j_)m.X_(o)&&(s=!0);f.z_=o}}s&&ag(n)}function X2(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(n);s.queries.delete(e)}function ag(r){r.Y_.forEach(e=>{e.next()})}var rp,QE;(QE=rp||(rp={})).ea="default",QE.Cache="cache";class qA{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.key=e}}class HA{constructor(e){this.key=e}}class W2{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=oA(e),this.Ra=new ro(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new KE,o=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const w=o.get(E),O=Wh(this.query,S)?S:null,V=!!w&&this.mutatedKeys.has(w.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;w&&O?w.data.isEqual(O.data)?V!==$&&(s.track({type:3,doc:O}),L=!0):this.ga(w,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.Aa(O,p)>0||g&&this.Aa(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),L=!0):w&&!O&&(s.track({type:1,doc:w}),L=!0,(p||g)&&(m=!0)),L&&(O?(f=f.add(O),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:f,fa:s,ns:m,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((E,S)=>function(O,V){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return $(O)-$(V)}(E.type,S.type)||this.Aa(E.doc,S.doc)),this.pa(s),o=o!=null&&o;const m=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,f.length!==0||g?{snapshot:new fo(this.query,e.Ra,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new KE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new HA(s))}),this.da.forEach(s=>{e.has(s)||n.push(new BA(s))}),n}ba(e){this.Ta=e.Ts,this.da=Me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Z2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class J2{constructor(e){this.key=e,this.va=!1}}class eP{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new So(m=>aA(m),Xh),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(ye.comparator),this.Na=new Map,this.La=new Wp,this.Ba={},this.ka=new Map,this.qa=ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tP(r,e,n=!0){const s=$A(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await FA(s,e,n,!0),o}async function nP(r,e){const n=$A(r);await FA(n,e,!0,!1)}async function FA(r,e,n,s){const o=await w2(r.localStore,pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await iP(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&MA(r.remoteStore,o),m}async function iP(r,e,n,s,o){r.Ka=(S,w,O)=>async function($,L,H,Q){let G=L.view.ma(H);G.ns&&(G=await BE($.localStore,L.query,!1).then(({documents:N})=>L.view.ma(N,G)));const ne=Q&&Q.targetChanges.get(L.targetId),re=Q&&Q.targetMismatches.get(L.targetId)!=null,he=L.view.applyChanges(G,$.isPrimaryClient,ne,re);return XE($,L.targetId,he.wa),he.snapshot}(r,S,w,O);const u=await BE(r.localStore,e,!0),f=new W2(e,u.Ts),m=f.ma(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);XE(r,n,g.wa);const E=new Z2(e,n,f);return r.Fa.set(e,E),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),g.snapshot}async function rP(r,e,n){const s=be(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(f=>!Xh(f,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),sp(s,o.targetId)}).catch(vu)):(sp(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function sP(r,e){const n=be(r),s=n.Fa.get(e),o=n.Ma.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function aP(r,e,n){const s=dP(r);try{const o=await function(f,m){const p=be(f),g=bt.now(),E=m.reduce((O,V)=>O.add(V.key),Me());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=ur(),$=Me();return p.cs.getEntries(O,E).next(L=>{V=L,V.forEach((H,Q)=>{Q.isValidDocument()||($=$.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,V)).next(L=>{S=L;const H=[];for(const Q of m){const G=CO(Q,S.get(Q.key).overlayedDocument);G!=null&&H.push(new Jr(Q.key,G,Z0(G.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,H,m)}).next(L=>{w=L;const H=L.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(O,L.batchId,H)})}).then(()=>({batchId:w.batchId,changes:uA(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ba[f.currentUser.toKey()];g||(g=new lt(ze)),g=g.insert(m,p),f.Ba[f.currentUser.toKey()]=g}(s,o.batchId,n),await Iu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function GA(r,e){const n=be(r);try{const s=await T2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Na.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.va=!0:o.modifiedDocuments.size>0?Ye(f.va):o.removedDocuments.size>0&&(Ye(f.va),f.va=!1))}),await Iu(n,s,e)}catch(s){await vu(s)}}function $E(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Fa.forEach((u,f)=>{const m=f.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=be(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const w of S.j_)w.Z_(m)&&(g=!0)}),g&&ag(p)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oP(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Na.get(e),u=o&&o.key;if(u){let f=new lt(ye.comparator);f=f.insert(u,nn.newNoDocument(u,Ie.min()));const m=Me().add(u),p=new ef(Ie.min(),new Map,new lt(ze),f,m);await GA(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),og(s)}else await ip(s.localStore,e,!1).then(()=>sp(s,e,n)).catch(vu)}async function lP(r,e){const n=be(r),s=e.batch.batchId;try{const o=await E2(n.localStore,e);YA(n,s,null),KA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(n,o)}catch(o){await vu(o)}}async function uP(r,e,n){const s=be(r);try{const o=await function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ye(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);YA(s,e,n),KA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Iu(s,o)}catch(o){await vu(o)}}function KA(r,e){(r.ka.get(e)||[]).forEach(n=>{n.resolve()}),r.ka.delete(e)}function YA(r,e,n){const s=be(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),n&&r.Ca.$a(s,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(s=>{r.La.containsKey(s)||QA(r,s)})}function QA(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(eg(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),og(r))}function XE(r,e,n){for(const s of n)s instanceof BA?(r.La.addReference(s.key,e),cP(r,s)):s instanceof HA?(me("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||QA(r,s.key)):we()}function cP(r,e){const n=e.key,s=n.path.canonicalString();r.Oa.get(n)||r.xa.has(s)||(me("SyncEngine","New document in limbo: "+n),r.xa.add(s),og(r))}function og(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new ye(tt.fromString(e)),s=r.qa.next();r.Na.set(s,new J2(n)),r.Oa=r.Oa.insert(n,s),MA(r.remoteStore,new Fr(pi(Kp(n.path)),s,"TargetPurposeLimboResolution",zp.oe))}}async function Iu(r,e,n){const s=be(r),o=[],u=[],f=[];s.Fa.isEmpty()||(s.Fa.forEach((m,p)=>{f.push(s.Ka(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Jp.Wi(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.Ca.d_(o),await async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(g,w=>se.forEach(w.$i,O=>E.persistence.referenceDelegate.addReference(S,w.targetId,O)).next(()=>se.forEach(w.Ui,O=>E.persistence.referenceDelegate.removeReference(S,w.targetId,O)))))}catch(S){if(!Eu(S))throw S;me("LocalStore","Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const O=E.os.get(w),V=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(V);E.os=E.os.insert(w,$)}}}(s.localStore,u))}async function hP(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await NA(n.localStore,e);n.currentUser=e,function(u,f){u.ka.forEach(m=>{m.forEach(p=>{p.reject(new fe(te.CANCELLED,f))})}),u.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(n,s.hs)}}function fP(r,e){const n=be(r),s=n.Na.get(e);if(s&&s.va)return Me().add(s.key);{let o=Me();const u=n.Ma.get(e);if(!u)return o;for(const f of u){const m=n.Fa.get(f);o=o.unionWith(m.view.Va)}return o}}function $A(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oP.bind(null,e),e.Ca.d_=$2.bind(null,e.eventManager),e.Ca.$a=X2.bind(null,e.eventManager),e}function dP(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uP.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return v2(this.persistence,new y2,e.initialUser,this.serializer)}Ga(e){return new m2(Zp.Zr,this.serializer)}Wa(e){return new b2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await K2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q2}()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=function(u){return new D2(u)}(e.databaseInfo);return function(u,f,m,p){return new M2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new V2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return FE.D()?new FE:new R2}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new eP(o,u,f,m,p,g);return E&&(S.Qa=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=be(o);me("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await wu(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await NA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function WE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await pP(r);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>GE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>GE(e.remoteStore,o)),r._onlineComponents=e}async function pP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new Ph)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await xm(r,new Ph);return r._offlineComponents}async function WA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await WE(r,r._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await WE(r,new ap))),r._onlineComponents}function gP(r){return WA(r).then(e=>e.syncEngine)}async function ZA(r){const e=await WA(r),n=e.eventManager;return n.onListen=tP.bind(null,e.syncEngine),n.onUnlisten=rP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sP.bind(null,e.syncEngine),n}function yP(r,e,n={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new XA({next:w=>{E.Za(),f.enqueueAndForget(()=>zA(u,S));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new qA(Kp(m.path),E,{includeMetadataChanges:!0,_a:!0});return jA(u,S)}(await ZA(r),r.asyncQueue,e,n,s)),s.promise}function _P(r,e,n={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new XA({next:w=>{E.Za(),f.enqueueAndForget(()=>zA(u,S)),w.fromCache&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new qA(m,E,{includeMetadataChanges:!0,_a:!0});return jA(u,S)}(await ZA(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tS(r,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function JE(r){if(!ye.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eT(r){if(ye.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function $n(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $0;switch(s.type){case"firstParty":return new zD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ZE.get(n);s&&(me("ComponentProvider","Removing Datastore"),ZE.delete(n),s.terminate())}(this),Promise.resolve()}}function nS(r,e,n,s={}){var o;const u=(r=$n(r,af))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=tn.MOCK_USER;else{m=zb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tn(g)}r._authCredentials=new LD(new Q0(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class ir extends ta{constructor(e,n,s){super(e,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ye(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function zs(r,e,...n){if(r=Te(r),eS("collection","path",e),r instanceof af){const s=tt.fromString(e,...n);return eT(s),new ir(r,null,s)}{if(!(r instanceof rn||r instanceof ir))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return eT(s),new ir(r.firestore,null,s)}}function jn(r,e,...n){if(r=Te(r),arguments.length===1&&(e=jp.newId()),eS("doc","path",e),r instanceof af){const s=tt.fromString(e,...n);return JE(s),new rn(r,null,new ye(s))}{if(!(r instanceof rn||r instanceof ir))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return JE(s),new rn(r.firestore,r instanceof ir?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OA(this,"async_queue_retry"),this.Vu=()=>{const s=Mm();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new nr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Eu(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw lr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class na extends af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function ia(r,e){const n=typeof r=="object"?r:PT(),s=typeof r=="string"?r:"(default)",o=yp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ub("firestore");u&&nS(o,...u)}return o}function of(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vP(r),r._firestoreClient}function vP(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new JD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,JA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new mP(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(qt.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=/^__.*__$/;class TP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class iS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class lg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rS(this.Cu)&&EP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}Qu(e,n,s,o=!1){return new lg({Cu:e,methodName:n,qu:s,path:jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(r){const e=r._freezeSettings(),n=tf(r._databaseId);return new AP(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sS(r,e,n,s,o,u={}){const f=r.Qu(u.merge||u.mergeFields?2:0,e,n,o);cg("Data must be an object, but it was:",f,s);const m=aS(s,f);let p,g;if(u.merge)p=new In(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=op(e,S,n);if(!f.contains(w))throw new fe(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lS(E,w)||E.push(w)}p=new In(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new TP(new mn(m),p,g)}class hf extends Ru{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class ug extends Ru{_toFieldTransform(e){return new wO(e.path,new ou)}isEqual(e){return e instanceof ug}}function SP(r,e,n,s){const o=r.Qu(1,e,n);cg("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();Js(s,(p,g)=>{const E=hg(e,p,n);g=Te(g);const S=o.Nu(E);if(g instanceof hf)u.push(E);else{const w=Cu(g,S);w!=null&&(u.push(E),f.set(E,w))}});const m=new In(u);return new iS(f,m,o.fieldTransforms)}function wP(r,e,n,s,o,u){const f=r.Qu(1,e,n),m=[op(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(op(e,u[w])),p.push(u[w+1]);const g=[],E=mn.empty();for(let w=m.length-1;w>=0;--w)if(!lS(g,m[w])){const O=m[w];let V=p[w];V=Te(V);const $=f.Nu(O);if(V instanceof hf)g.push(O);else{const L=Cu(V,$);L!=null&&(g.push(O),E.set(O,L))}}const S=new In(g);return new iS(E,S,f.fieldTransforms)}function IP(r,e,n,s=!1){return Cu(n,r.Qu(s?4:3,e))}function Cu(r,e){if(oS(r=Te(r)))return cg("Unsupported field value:",e,r),aS(r,e);if(r instanceof Ru)return function(s,o){if(!rS(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Cu(m,o.Lu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Te(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=bt.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof bt){const u=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof lf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qs)return{bytesValue:AA(o.serializer,s._byteString)};if(s instanceof rn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof uf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Yp(m.serializer,p)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${sf(s)}`)}(r,e)}function aS(r,e){const n={};return X0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(r,(s,o)=>{const u=Cu(o,e.Mu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function oS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof lf||r instanceof Qs||r instanceof rn||r instanceof Ru||r instanceof uf)}function cg(r,e,n){if(!oS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=sf(n);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function op(r,e,n){if((e=Te(e))instanceof bu)return e._internalPath;if(typeof e=="string")return hg(r,e);throw Mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const bP=new RegExp("[~\\*/\\[\\]]");function hg(r,e,n){if(e.search(bP)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bu(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Mh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,m+r+p)}function lS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RP extends uS{data(){return super.data()}}function fg(r,e){return typeof e=="string"?hg(r,e):e instanceof bu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class cS extends dg{}function mg(r,e,...n){let s=[];e instanceof dg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ff).length,m=u.filter(p=>p instanceof Nu).length;if(f>1||f>0&&m>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Nu extends cS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nu(e,n,s)}_apply(e){const n=this._parse(e);return fS(e._query,n),new ta(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=cf(e.firestore);return function(u,f,m,p,g,E,S){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){rT(S,E);const O=[];for(const V of S)O.push(iT(p,u,V));w={arrayValue:{values:O}}}else w=iT(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||rT(S,E),w=IP(m,f,S,E==="in"||E==="not-in");return It.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hS(r,e,n){const s=e,o=fg("where",r);return Nu._create(o,s,n)}class ff extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ff(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)fS(f,p),f=Wm(f,p)}(e._query,n),new ta(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iT(r,e,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sA(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ye.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IE(r,new ye(s))}if(n instanceof rn)return IE(r,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function rT(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fS(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dS{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>yt(f.doubleValue));return new uf(u)}convertGeoPoint(e){return new lf(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bp(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ye(CA(s));const o=new lo(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pg extends uS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xl extends pg{data(e={}){return super.data(e)}}class pS{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xl(this._firestore,this._userDataWriter,s.key,s,new eo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Xl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Xl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:NP(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(r){r=$n(r,rn);const e=$n(r.firestore,na);return yP(of(e),r._key).then(n=>DP(e,r,n))}class gS extends dS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function cu(r){r=$n(r,ta);const e=$n(r.firestore,na),n=of(e),s=new gS(e);return CP(r._query),_P(n,r._query).then(o=>new pS(e,s,r,o))}function yS(r,e,n){r=$n(r,rn);const s=$n(r.firestore,na),o=mS(r.converter,e);return df(s,[sS(cf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Yn.none())])}function xh(r,e,n,...s){r=$n(r,rn);const o=$n(r.firestore,na),u=cf(o);let f;return f=typeof(e=Te(e))=="string"||e instanceof bu?wP(u,"updateDoc",r._key,e,n,s):SP(u,"updateDoc",r._key,e),df(o,[f.toMutation(r._key,Yn.exists(!0))])}function _S(r,e){const n=$n(r.firestore,na),s=jn(r),o=mS(r.converter,e);return df(n,[sS(cf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then(()=>s)}function df(r,e){return function(s,o){const u=new nr;return s.asyncQueue.enqueueAndForget(async()=>aP(await gP(s),o,u)),u.promise}(of(r),e)}function DP(r,e,n){const s=n.docs.get(e._key),o=new gS(r);return new pg(r,o,e._key,s,new eo(n.hasPendingWrites,n.fromCache),e.converter)}function OP(){return new ug("serverTimestamp")}(function(e,n=!0){(function(o){Ao=o})(yo),so(new Hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new na(new UD(s.getProvider("auth-internal")),new BD(s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Yr(EE,"4.7.3",e),Yr(EE,"4.7.3","esm2017")})();const sT=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:dS,Bytes:Qs,CollectionReference:ir,DocumentReference:rn,DocumentSnapshot:pg,FieldPath:bu,FieldValue:Ru,Firestore:na,FirestoreError:fe,GeoPoint:lf,Query:ta,QueryCompositeFilterConstraint:ff,QueryConstraint:cS,QueryDocumentSnapshot:Xl,QueryFieldFilterConstraint:Nu,QuerySnapshot:pS,SnapshotMetadata:eo,Timestamp:bt,VectorValue:uf,_AutoId:jp,_ByteString:qt,_DatabaseId:lo,_DocumentKey:ye,_EmptyAuthCredentialsProvider:$0,_FieldPath:jt,_cast:$n,_logWarn:Gs,_validateIsNotUsedTogether:tS,addDoc:_S,collection:zs,connectFirestoreEmulator:nS,doc:jn,ensureFirestoreConfigured:of,executeWrite:df,getDoc:$s,getDocs:cu,getFirestore:ia,query:mg,serverTimestamp:OP,setDoc:yS,updateDoc:xh,where:hS},Symbol.toStringTag,{value:"Module"})),vS=B.createContext(null),gg=()=>B.useContext(vS),PP=({children:r})=>{const[e,n]=B.useState([]),[s,o]=B.useState(0),[u,f]=B.useState(null),[m,p]=B.useState(!0),g=Zs(),E=ia();B.useEffect(()=>{const G=Hh(g,ne=>{f(ne),ne?w(ne.uid):S()});return()=>G()},[g]);const S=()=>{p(!0);const G=localStorage.getItem("cart");if(G)try{const ne=JSON.parse(G);n(ne),o(ne.reduce((re,he)=>re+he.quantity,0))}catch(ne){console.error("Error parsing cart from localStorage:",ne),n([]),o(0)}else n([]),o(0);p(!1)},w=async G=>{p(!0);try{const ne=await $s(jn(E,"teams",G));if(ne.exists()&&ne.data().cart){const re=ne.data().cart;n(re),o(re.reduce((he,N)=>he+N.quantity,0))}else{const re=localStorage.getItem("cart");if(re)try{const he=JSON.parse(re);he.length>0?(n(he),o(he.reduce((N,I)=>N+I.quantity,0)),await xh(jn(E,"teams",G),{cart:he})):(n([]),o(0))}catch(he){console.error("Error handling localStorage cart during login:",he),n([]),o(0)}else n([]),o(0)}}catch(ne){console.error("Error loading cart from database:",ne),n([]),o(0)}p(!1)},O=async G=>{if(n(G),o(G.reduce((ne,re)=>ne+re.quantity,0)),localStorage.setItem("cart",JSON.stringify(G)),u)try{await xh(jn(E,"teams",u.uid),{cart:G})}catch(ne){console.error("Error saving cart to database:",ne)}},Q={cartItems:e,cartCount:s,loading:m,addToCart:G=>{const ne=[...e],re=ne.findIndex(he=>he.id===G.id);re>-1?ne[re].quantity+=1:ne.push({...G,quantity:1}),O(ne)},removeFromCart:G=>{const ne=e.filter(re=>re.id!==G);O(ne)},updateQuantity:(G,ne)=>{if(ne<1)return;const re=e.map(he=>he.id===G?{...he,quantity:ne}:he);O(re)},clearCart:async()=>{O([])}};return D.jsx(vS.Provider,{value:Q,children:r})};function ES(){const[r,e]=B.useState(!1),[n,s]=B.useState(!1),[o,u]=B.useState(!1),{cartCount:f}=gg(),m=Zs();B.useEffect(()=>{const S=()=>{e(window.scrollY>80)};window.addEventListener("scroll",S);const w=Hh(m,O=>{u(!!O)});return()=>{window.removeEventListener("scroll",S),w()}},[m]);const p=()=>{s(!n)},g=r?"/media/geargift-large-black.png":"/media/geargift-large-white.png",E=`header ${r?"scrolled":""}`;return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:E,id:"main-header",children:[D.jsxs("div",{className:"logo-large",children:[D.jsx(Qt,{to:"/",children:D.jsx("img",{src:g,alt:"Geargift Logo"})}),D.jsx("h1",{children:"Powered by"}),D.jsx("img",{src:"/media/qrobotics-logo.png",alt:"QRobotics Logo"})]}),D.jsx("button",{className:"hamburger",onClick:p,children:""}),D.jsxs("div",{className:"pages",children:[D.jsx("div",{className:"page",id:"home",children:D.jsx(Qt,{to:"/",children:D.jsx("h1",{children:"Home"})})}),D.jsx("div",{className:"page",id:"contact",children:D.jsx(Qt,{to:"/inquiries",children:D.jsx("h1",{children:"Inquire"})})}),D.jsx("div",{className:"page",id:"team-login",children:o?D.jsx(Qt,{to:"/team-dashboard",children:D.jsx("h1",{children:"My Team"})}):D.jsx(Qt,{to:"/login",children:D.jsx("h1",{children:"Team Login"})})}),D.jsx("div",{className:"page",id:"cart",children:D.jsx(Qt,{to:"/cart",children:D.jsxs("h1",{children:["Cart",f>0&&D.jsx("span",{className:"cart-count",children:f})]})})})]})]}),D.jsxs("div",{className:`menu ${n?"active":""}`,id:"mobileMenu",children:[D.jsx("a",{onClick:p,children:"Close "}),D.jsx(Qt,{to:"/",onClick:p,children:"Home"}),D.jsx(Qt,{to:"/inquiries",onClick:p,children:"Inquire"}),o?D.jsx(Qt,{to:"/team-dashboard",onClick:p,children:"My Team"}):D.jsx(Qt,{to:"/login",onClick:p,children:"Team Login"}),D.jsxs(Qt,{to:"/cart",onClick:p,children:["Cart ",f>0&&`(${f})`]})]})]})}function MP(){return D.jsxs(D.Fragment,{children:[D.jsx(ES,{}),D.jsxs("main",{children:[D.jsx($I,{})," "]})]})}var xP="firebase",VP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(xP,VP,"app");const kP={apiKey:"AIzaSyCvWoWMR6mB_W3KK9bipQL5hV7yXxCEBMA",authDomain:"geargift-rq.firebaseapp.com",projectId:"geargift-rq",storageBucket:"geargift-rq.firebasestorage.app",messagingSenderId:"288602223139",appId:"1:288602223139:web:119904c9c2b722ae903796",measurementId:"G-0FEWL6SSDP"},TS=OT(kP),Xa=ia(TS);Zs(TS);const AS=B.createContext(null),yg=()=>B.useContext(AS),LP=({children:r})=>{const[e,n]=B.useState([]),[s,o]=B.useState([]),[u,f]=B.useState(!0),[m,p]=B.useState(null),g=async()=>{try{const $=zs(Xa,"vendors"),H=(await cu($)).docs.map(Q=>({id:Q.id,...Q.data()}));return n(H),H}catch($){return console.error("Error fetching vendors:",$),p($.message),[]}},E=async($=null)=>{try{let L;$?L=mg(zs(Xa,"products"),hS("vendorId","==",$)):L=zs(Xa,"products");const Q=(await cu(L)).docs.map(G=>({id:G.id,...G.data()}));return $||o(Q),Q}catch(L){return console.error("Error fetching products:",L),p(L.message),[]}},S=async $=>{try{const L=await $s(jn(Xa,"vendors",$));return L.exists()?{id:L.id,...L.data()}:null}catch(L){return console.error("Error fetching vendor:",L),p(L.message),null}},w=async $=>{try{const L=await $s(jn(Xa,"products",$));return L.exists()?{id:L.id,...L.data()}:null}catch(L){return console.error("Error fetching product:",L),p(L.message),null}},O=async $=>{try{return{id:(await _S(zs(Xa,"inquiries"),{...$,createdAt:new Date})).id,...$}}catch(L){throw console.error("Error adding inquiry:",L),p(L.message),L}};B.useEffect(()=>{(async()=>{f(!0);try{await g(),await E(),f(!1)}catch(L){console.error("Error loading initial data:",L),p(L.message),f(!1)}})()},[]);const V={vendors:e,products:s,loading:u,error:m,fetchVendors:g,fetchProducts:E,getVendor:S,getProduct:w,addInquiry:O};return D.jsx(AS.Provider,{value:V,children:r})};function UP(){const{vendors:r,loading:e,error:n}=yg(),s=()=>{const o=document.querySelector(".divider-2");o&&o.scrollIntoView({behavior:"smooth"})};return D.jsxs("div",{className:"container",children:[D.jsx("div",{className:"section-1",children:D.jsx("div",{className:"divider-1",children:D.jsxs("div",{className:"content-box",children:[D.jsx("img",{src:"/media/geargift-white.png",alt:"Geargift",className:"hero-logo"}),D.jsx("h1",{children:"GearGift is a platform designed to support FTC teams exchange and access essential robot parts from vendors such as REV, Tetrix, goBilda, and Axon. Teams can list available components and request specific parts."}),D.jsx("a",{className:"button",onClick:s,style:{cursor:"pointer"},children:"Explore our vendors"})]})})}),D.jsx("div",{className:"section-2",children:D.jsxs("div",{className:"divider-2",children:[D.jsx("h1",{children:"Our vendors"}),D.jsx("div",{className:"vendors-catalog",children:e?D.jsx("p",{children:"Loading vendors..."}):n?D.jsxs("p",{children:["Error loading vendors: ",n]}):r.map(o=>D.jsx(Qt,{to:`/vendors/${o.name.toLowerCase()}`,className:"vendor",children:D.jsx("img",{src:o.logo,alt:o.name})},o.id))})]})})]})}function jP(){const[r,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(!1),[p,g]=B.useState(""),{addInquiry:E}=yg(),S=async w=>{if(w.preventDefault(),!r||!n||!o){alert("Please fill in all fields.");return}m(!0),g("");try{await E({name:r,email:n,message:o}),e(""),s(""),u(""),g("Your inquiry has been submitted successfully!")}catch(O){console.error("Error submitting inquiry:",O),g(`Error submitting inquiry: ${O.message}`)}finally{m(!1)}};return D.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 80px)",paddingTop:"80px"},children:[D.jsx("div",{className:"logo-sm",children:D.jsx("img",{src:"/media/qrobotics-logo.png",alt:"QRobotics Small Logo"})}),D.jsxs("div",{className:"container-mini",children:[D.jsx("div",{className:"left-side",children:D.jsx("img",{src:"/media/geargift-white.png",alt:"Geargift White"})}),D.jsx("div",{className:"right-side",children:D.jsx("form",{onSubmit:S,children:D.jsxs("div",{className:"inputs",children:[D.jsx("h1",{children:"Do you have a special request?"}),D.jsx("input",{className:"team-name",placeholder:"Ex: Quantum Robotics",value:r,onChange:w=>e(w.target.value),required:!0,disabled:f}),D.jsx("input",{type:"email",className:"team-email",placeholder:"Ex: quantum.robotics@ichb.ro",value:n,onChange:w=>s(w.target.value),required:!0,disabled:f}),D.jsx("textarea",{className:"team-message",placeholder:"Your message...",value:o,onChange:w=>u(w.target.value),required:!0,disabled:f}),D.jsx("button",{type:"submit",className:"send-button",disabled:f,children:f?"Sending...":"Send Inquiry"}),p&&D.jsx("p",{style:{color:p.includes("Error")?"red":"green"},children:p})]})})})]})]})}function zP({product:r}){const[e,n]=B.useState(!1),{addToCart:s}=gg(),o=()=>{s(r),n(!0),setTimeout(()=>{n(!1)},2e3)};return D.jsxs("div",{className:"product",children:[D.jsx("img",{src:r.imgSrc,alt:r.name}),D.jsx("h3",{children:r.name}),D.jsx("div",{className:"product-info",children:D.jsx("p",{className:"product-vendor",children:r.vendorName})}),D.jsx("div",{className:"product-actions",children:D.jsx("button",{className:`cart-button ${e?"added":""}`,onClick:o,disabled:e,children:e?"Added to Cart":"Add to Cart"})})]})}function qP(){const{vendorName:r}=VI(),[e,n]=B.useState([]),[s,o]=B.useState(null),[u,f]=B.useState(!0),{vendors:m,fetchProducts:p}=yg();return B.useEffect(()=>{const g=async()=>{f(!0);const E=m.find(S=>S.name.toLowerCase()===r.toLowerCase());if(E){o(E);const S=await p(E.id);n(S)}else n([]);f(!1)};r&&m.length>0&&g()},[r,m,p]),D.jsx("div",{className:"container",children:D.jsx("div",{className:"section-2",id:"product-section",children:D.jsxs("div",{className:"divider-2",children:[D.jsxs("h1",{children:[s?s.name:r," products"]}),D.jsx("div",{className:"products-catalog",children:u?D.jsx("p",{children:"Loading products..."}):e.length>0?e.map(g=>D.jsx(zP,{product:g},g.id)):D.jsxs("p",{children:["No products found for ",s?s.name:r,"."]})})]})})})}function BP(){const[r,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(!1),[p,g]=B.useState(""),[E,S]=B.useState(!1),w=cp(),O=Zs(),V=ia(),$=async H=>{H.preventDefault(),g(""),S(!0);try{if(f){console.log("Attempting to create user with email:",r);const G=(await y0(O,r,n)).user;console.log("User created successfully:",G.uid),console.log("Storing team data for:",o);try{await yS(jn(V,"teams",G.uid),{teamName:o,email:r,createdAt:new Date,components:[],cart:[]}),console.log("Team data stored successfully")}catch(ne){console.error("Database error:",ne),g(`Database error: ${ne.message}`),S(!1);return}w("/team-dashboard")}else{if(console.log("Attempting to sign in with email:",r),await _0(O,r,n),!(await $s(jn(V,"teams",O.currentUser.uid))).exists()){g("Team account not found. Please sign up first."),S(!1);return}w("/team-dashboard")}}catch(Q){console.error("Authentication error:",Q.code,Q.message),Q.code==="auth/email-already-in-use"?g("This email is already registered. Please sign in instead."):Q.code==="auth/user-not-found"||Q.code==="auth/wrong-password"?g("Invalid email or password."):Q.code==="auth/weak-password"?g("Password should be at least 6 characters."):Q.code==="auth/invalid-email"?g("Please enter a valid email address."):Q.code==="auth/network-request-failed"?g("Network error. Please check your internet connection."):g(`Error: ${Q.message}`)}finally{S(!1)}},L=()=>{m(!f),g("")};return D.jsxs("div",{className:"container page-center",children:[D.jsx("div",{className:"logo-sm",children:D.jsx("img",{src:"/media/qrobotics-logo.png",alt:"QRobotics Logo"})}),D.jsxs("div",{className:"container-mini login-container",children:[D.jsx("div",{className:"left-side",children:D.jsx("img",{src:"/media/geargift-white.png",alt:"Geargift Logo"})}),D.jsx("div",{className:"right-side",children:D.jsx("form",{onSubmit:$,children:D.jsxs("div",{className:"inputs",children:[D.jsx("h1",{children:f?"Register Your FTC Team":"Team Login"}),D.jsx("input",{type:"email",placeholder:"Team Email",value:r,onChange:H=>e(H.target.value),required:!0}),f&&D.jsx("input",{type:"text",placeholder:"Team Name (e.g., Quantum Robotics)",value:o,onChange:H=>u(H.target.value),required:!0}),D.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:H=>s(H.target.value),required:!0,minLength:"6"}),p&&D.jsx("p",{className:"error-message",children:p}),D.jsx("button",{type:"submit",className:"send-button",disabled:E,children:E?"Processing...":f?"Sign Up":"Sign In"}),D.jsxs("p",{className:"toggle-form",children:[f?"Already have an account?":"Need an account?",D.jsx("span",{onClick:L,children:f?" Sign In":" Sign Up"})]})]})})})]})]})}function HP(){const[r,e]=B.useState(null),[n,s]=B.useState([]),[o,u]=B.useState([]),[f,m]=B.useState(!0),[p,g]=B.useState(!1),[E,S]=B.useState(""),w=cp(),O=Zs(),V=ia();B.useEffect(()=>{const Q=O.onAuthStateChanged(async G=>{if(!G){w("/login");return}try{const ne=await $s(jn(V,"teams",G.uid));if(ne.exists()){const N=ne.data();e(N),u(N.components||[])}const he=(await cu(zs(V,"products"))).docs.map(N=>({id:N.id,...N.data()}));s(he)}catch(ne){console.error("Error loading data:",ne),S("Error loading team data. Please try again.")}finally{m(!1)}});return()=>Q()},[O,V,w]);const $=Q=>{u(G=>G.some(re=>re.id===Q.id)?G.filter(re=>re.id!==Q.id):[...G,Q])},L=async()=>{g(!0),S("");try{const Q=o.map(G=>{if(!G.vendorName&&G.vendorId){const ne=n.find(re=>re.vendorId===G.vendorId);if(ne)return{...G,vendorName:ne.vendorName}}return G});await xh(jn(V,"teams",O.currentUser.uid),{components:Q}),S("Your available components have been updated!")}catch(Q){console.error("Error saving components:",Q),S("Error saving components. Please try again.")}finally{g(!1)}},H=async()=>{try{await Np(O),w("/login")}catch(Q){console.error("Error signing out:",Q)}};return f?D.jsx("div",{className:"container page-center",children:D.jsx("div",{className:"loading",children:"Loading team dashboard..."})}):D.jsxs("div",{className:"dashboard-container",style:{paddingTop:"100px"},children:[D.jsxs("div",{className:"dashboard-header",children:[D.jsxs("div",{className:"team-info",children:[D.jsxs("h1",{children:["Team Dashboard: ",r==null?void 0:r.teamName]}),D.jsx("p",{children:r==null?void 0:r.email})]}),D.jsx("button",{className:"logout-button",onClick:H,children:"Logout"})]}),D.jsx("div",{className:"dashboard-content",children:D.jsxs("div",{className:"component-selection",children:[D.jsxs("div",{className:"selection-header",children:[D.jsx("h2",{children:"Select Components You Have Available"}),D.jsx("p",{children:"Share your spare parts with other FTC teams"})]}),E&&D.jsx("div",{className:"message",children:E}),D.jsx("div",{className:"components-grid",children:n.map(Q=>D.jsxs("div",{className:`component-card ${o.some(G=>G.id===Q.id)?"selected":""}`,onClick:()=>$(Q),children:[D.jsx("div",{className:"component-image",children:D.jsx("img",{src:Q.imgSrc,alt:Q.name})}),D.jsxs("div",{className:"component-details",children:[D.jsx("h3",{children:Q.name}),D.jsx("p",{children:Q.vendorName})]}),D.jsx("div",{className:"selection-indicator",children:o.some(G=>G.id===Q.id)?"":"+"})]},Q.id))}),D.jsxs("div",{className:"save-section",children:[D.jsxs("p",{children:["Selected ",o.length," components"]}),D.jsx("button",{className:"save-button",onClick:L,disabled:p,children:p?"Saving...":"Save Changes"})]})]})})]})}const FP="modulepreload",GP=function(r){return"/"+r},aT={},Vm=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let f=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(n.map(g=>{if(g=GP(g),g in aT)return;aT[g]=!0;const E=g.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":FP,E||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),E)return new Promise((O,V)=>{w.addEventListener("load",O),w.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};function KP(){const{cartItems:r,removeFromCart:e,updateQuantity:n,clearCart:s,loading:o}=gg(),[u,f]=B.useState(""),[m,p]=B.useState({}),[g,E]=B.useState(null),S=ia();B.useEffect(()=>{(async()=>{try{const Q=await Vm(()=>Promise.resolve().then(()=>kD),[]).then(G=>G.getAuth());if(Q.currentUser){const{doc:G,getDoc:ne}=await Vm(async()=>{const{doc:he,getDoc:N}=await Promise.resolve().then(()=>sT);return{doc:he,getDoc:N}},void 0),re=await ne(G(S,"teams",Q.currentUser.uid));re.exists()&&E(re.data())}}catch(Q){console.error("Error fetching team data:",Q)}})()},[S]);const w=(H,Q)=>{Q>=1&&n(H,Q)},O=async()=>{f("processing");try{const H=zs(S,"teams"),Q={};for(const G of r){const ne=[],re=mg(H);(await cu(re)).forEach(N=>{const I=N.data();if(g&&I.email===g.email)return;I.components&&I.components.some(M=>M.name===G.name&&M.vendorName.toLowerCase()===G.vendorName.toLowerCase())&&ne.push({id:N.id,teamName:I.teamName,email:I.email})}),ne.length>0&&(Q[G.id]={item:G,teams:ne})}p(Q),Object.keys(Q).length>0?f("matching"):(L({}),f("success"))}catch(H){console.error("Error finding matching teams:",H),alert("There was an error processing your request. Please try again."),f("")}},V=async H=>{try{if(!g)return;const{addDoc:Q,collection:G,serverTimestamp:ne}=await Vm(async()=>{const{addDoc:re,collection:he,serverTimestamp:N}=await Promise.resolve().then(()=>sT);return{addDoc:re,collection:he,serverTimestamp:N}},void 0);await Q(G(S,"requests"),{requestingTeam:{id:g.id,name:g.teamName,email:g.email},requestedItems:r.map(re=>({id:re.id,name:re.name,vendorName:re.vendorName,quantity:re.quantity})),matchingTeams:Object.values(H).flatMap(re=>re.teams.map(he=>({teamId:he.id,teamName:he.teamName,email:he.email,componentId:re.item.id,componentName:re.item.name}))),status:"pending",createdAt:ne()})}catch(Q){console.error("Error saving request to database:",Q)}},$=()=>{L(m),V(m),f("success"),s()},L=H=>{if(!g){console.warn("Cannot send notifications: Requesting team information is missing");return}console.log("===== EMAIL NOTIFICATIONS ====="),Object.values(H).forEach(Q=>{const{item:G,teams:ne}=Q;ne.forEach(re=>{console.log(`TO: ${re.email}`),console.log(`SUBJECT: Component Request from ${g.teamName}`),console.log(`BODY: 
Hello ${re.teamName},

${g.teamName} (${g.email}) is looking for a component that you might have:

Component: ${G.name}
Vendor: ${G.vendorName}
Quantity requested: ${G.quantity}

If you can provide this component, please contact them directly at ${g.email}.

Thanks for being part of our FTC community!

Regards,
GearGift Team
        `),console.log("--------------------------------")})}),console.log("================================")};return o?D.jsx("div",{className:"page-container",children:D.jsx("div",{className:"cart-wrapper",children:D.jsx("div",{className:"loading-cart",children:"Loading your cart..."})})}):u==="matching"?D.jsx("div",{className:"page-container",children:D.jsxs("div",{className:"cart-wrapper",children:[D.jsx("h1",{children:"Team Matching Results"}),D.jsxs("div",{className:"matching-results",children:[D.jsxs("p",{className:"match-intro",children:[D.jsx("strong",{children:"Good news!"})," We found teams that might have the components you're looking for. If you proceed, we'll notify these teams about your request."]}),Object.values(m).map(H=>D.jsxs("div",{className:"match-item",children:[D.jsxs("div",{className:"match-component",children:[D.jsx("img",{src:H.item.imgSrc,alt:H.item.name}),D.jsxs("div",{className:"match-component-info",children:[D.jsx("h3",{children:H.item.name}),D.jsx("p",{children:H.item.vendorName}),D.jsxs("p",{children:["Quantity requested: ",H.item.quantity]})]})]}),D.jsxs("div",{className:"match-teams",children:[D.jsx("h4",{children:"Teams with this component:"}),D.jsx("ul",{children:H.teams.map(Q=>D.jsx("li",{children:Q.teamName},Q.id))})]})]},H.item.id)),D.jsxs("div",{className:"cart-summary matching-summary",children:[D.jsx("p",{children:"By continuing, we'll notify these teams about your request and provide them with your team's contact information."}),D.jsx("button",{className:"checkout-button",onClick:$,children:"Confirm and Complete Request"}),D.jsx("button",{className:"clear-cart-button",onClick:()=>f(""),children:"Back to Cart"})]})]})]})}):u==="success"?D.jsx("div",{className:"page-container",children:D.jsx("div",{className:"cart-wrapper",children:D.jsxs("div",{className:"success-message",children:[D.jsx("h2",{children:"Request Submitted Successfully!"}),D.jsx("p",{children:"Teams with matching components have been notified of your request."}),D.jsx("p",{children:"You'll receive direct communication from teams who can provide the requested components."}),D.jsx(Qt,{to:"/",className:"continue-button",children:"Continue Shopping"})]})})}):D.jsx("div",{className:"page-container",children:D.jsxs("div",{className:"cart-wrapper",children:[D.jsx("h1",{children:"Your Cart"}),r.length===0?D.jsxs("div",{className:"empty-cart",children:[D.jsx("p",{children:"Your cart is empty"}),D.jsx(Qt,{to:"/",className:"continue-button",children:"Start Shopping"})]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"cart-items",children:r.map(H=>D.jsxs("div",{className:"cart-item",children:[D.jsx("div",{className:"item-image",children:D.jsx("img",{src:H.imgSrc,alt:H.name})}),D.jsxs("div",{className:"item-details",children:[D.jsx("h3",{className:"item-name",children:H.name}),D.jsx("p",{className:"item-vendor",children:H.vendorName})]}),D.jsxs("div",{className:"item-quantity",children:[D.jsx("button",{className:"quantity-btn",onClick:()=>w(H.id,H.quantity-1),"aria-label":"Decrease quantity",children:"-"}),D.jsx("span",{children:H.quantity}),D.jsx("button",{className:"quantity-btn",onClick:()=>w(H.id,H.quantity+1),"aria-label":"Increase quantity",children:"+"})]}),D.jsx("button",{className:"remove-button",onClick:()=>e(H.id),"aria-label":"Remove item",children:""})]},H.id))}),D.jsxs("div",{className:"cart-summary",children:[D.jsxs("div",{className:"total",children:[D.jsx("span",{children:"Total Items"}),D.jsx("span",{children:r.reduce((H,Q)=>H+Q.quantity,0)})]}),D.jsx("button",{className:"checkout-button",onClick:O,disabled:u==="processing"||!g,children:u==="processing"?"Finding Teams...":"Request Items"}),!g&&D.jsxs("div",{className:"login-warning",children:["Please ",D.jsx(Qt,{to:"/login",children:"log in"})," to submit your request"]}),D.jsx("button",{className:"clear-cart-button",onClick:s,children:"Clear Cart"})]})]})]})})}function YP(){return D.jsxs(D.Fragment,{children:[D.jsx(ES,{}),D.jsxs(WI,{children:[D.jsxs(Hr,{path:"/",element:D.jsx(MP,{}),children:[D.jsx(Hr,{index:!0,element:D.jsx(UP,{})}),D.jsx(Hr,{path:"inquiries",element:D.jsx(jP,{})}),D.jsx(Hr,{path:"vendors/:vendorName",element:D.jsx(qP,{})})]}),D.jsx(Hr,{path:"/login",element:D.jsx(BP,{})}),D.jsx(Hr,{path:"/team-dashboard",element:D.jsx(HP,{})}),D.jsx(Hr,{path:"/cart",element:D.jsx(KP,{})})]})]})}const QP=B.createContext(null),$P=({children:r})=>{const[e,n]=B.useState(null),[s,o]=B.useState(null),[u,f]=B.useState(!0),m=Zs(),p=ia();B.useEffect(()=>Hh(m,async w=>{if(n(w),w)try{const O=await $s(jn(p,"teams",w.uid));O.exists()&&o(O.data())}catch(O){console.error("Error fetching team data:",O)}else o(null);f(!1)}),[m,p]);const E={currentUser:e,teamData:s,loading:u,signOut:async()=>{await Np(m)},isAuthenticated:!!e};return D.jsx(QP.Provider,{value:E,children:r})};nI.createRoot(document.getElementById("root")).render(D.jsx(B.StrictMode,{children:D.jsx(LP,{children:D.jsx($P,{children:D.jsx(PP,{children:D.jsx(Tb,{children:D.jsx(YP,{})})})})})}));
